# File Makefile
#--------------------------------------------------------------------------
# Makefile for the CVODES examples using the serial N_Vector implementation.
# @configure_input@
#--------------------------------------------------------------------------

# Shell
SHELL = @SHELL@

# SUNDIALS instalation directory
prefix      = @prefix@
exec_prefix = @exec_prefix@
includedir  = @includedir@
libdir      = @libdir@

# Path to sources
srcdir = @srcdir@

# Compiler and compiler options
CC       = @CC@
CPPFLAGS = @CPPFLAGS@
CFLAGS   = @CFLAGS@
LDFLAGS  = @LDFLAGS@
TEMP_LIBS     = @LIBS@

# SUNDIALS library and include directories
SUNDIALS_INC_DIR = ${includedir}
SUNDIALS_LIB_DIR = ${libdir}

INCDIRS = -I${SUNDIALS_INC_DIR}
LIBDIRS = -L${SUNDIALS_LIB_DIR}
LIBS    = ${TEMP_LIBS} -lcvodes -lshared -lnvecserial -lm

#--------------------------------------------------------------------------------
# Make rules
#--------------------------------------------------------------------------------

all: cvdx cvbx cvkx cvkxb cvdemd cvdemk \
     cvfnx cvfdx cvfkx \
     cvadx cvabx cvakx cvakxb

cvdx : ${srcdir}/cvdx.c
	${CC} -c ${CFLAGS} ${CPPFLAGS} ${INCDIRS} ${srcdir}/$@.c
	${CC} ${CFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS}
cvbx : ${srcdir}/cvbx.c
	${CC} -c ${CFLAGS} ${CPPFLAGS} ${INCDIRS} ${srcdir}/$@.c
	${CC} ${CFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS}
cvkx : ${srcdir}/cvkx.c
	${CC} -c ${CFLAGS} ${CPPFLAGS} ${INCDIRS} ${srcdir}/$@.c
	${CC} ${CFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS}
cvkxb : ${srcdir}/cvkxb.c
	${CC} -c ${CFLAGS} ${CPPFLAGS} ${INCDIRS} ${srcdir}/$@.c
	${CC} ${CFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS}
cvdemd : ${srcdir}/cvdemd.c
	${CC} -c ${CFLAGS} ${CPPFLAGS} ${INCDIRS} ${srcdir}/$@.c
	${CC} ${CFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS}
cvdemk : ${srcdir}/cvdemk.c
	${CC} -c ${CFLAGS} ${CPPFLAGS} ${INCDIRS} ${srcdir}/$@.c
	${CC} ${CFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS}
cvfnx : ${srcdir}/cvfnx.c
	${CC} -c ${CFLAGS} ${CPPFLAGS} ${INCDIRS} ${srcdir}/$@.c
	${CC} ${CFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS}
cvfdx : ${srcdir}/cvfdx.c
	${CC} -c ${CFLAGS} ${CPPFLAGS} ${INCDIRS} ${srcdir}/$@.c
	${CC} ${CFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS}
cvfkx : ${srcdir}/cvfkx.c
	${CC} -c ${CFLAGS} ${CPPFLAGS} ${INCDIRS} ${srcdir}/$@.c
	${CC} ${CFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS}
cvadx : ${srcdir}/cvadx.c
	${CC} -c ${CFLAGS} ${CPPFLAGS} ${INCDIRS} ${srcdir}/$@.c
	${CC} ${CFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS}
cvabx : ${srcdir}/cvabx.c
	${CC} -c ${CFLAGS} ${CPPFLAGS} ${INCDIRS} ${srcdir}/$@.c
	${CC} ${CFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS}
cvakx : ${srcdir}/cvakx.c
	${CC} -c ${CFLAGS} ${CPPFLAGS} ${INCDIRS} ${srcdir}/$@.c
	${CC} ${CFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS}
cvakxb : ${srcdir}/cvakxb.c
	${CC} -c ${CFLAGS} ${CPPFLAGS} ${INCDIRS} ${srcdir}/$@.c
	${CC} ${CFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS}

clean:
	rm -f *.o
	rm -f cvdx cvbx cvkx cvkxb cvdemd cvdemk
	rm -f cvfnx cvfdx cvfkx
	rm -f cvadx cvabx cvakx cvakxb

#---End of Makefile---
