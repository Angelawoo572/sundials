<!-- MHonArc v2.6.10 -->
<!--X-Subject: RE: CVODES error -->
<!--X-From-R13: "Qnb, Kv" <K.QnbNpenasvryq.np.hx> -->
<!--X-Date: Wed, 30 Mar 2005 15:23:15 &#45;0800 (PST) -->
<!--X-Message-Id: 8B8B9A8EAFB80D4783EC4EE210951B454E65FD@ccexchange&#45;3.cns.cranfield.ac.uk -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Head-End-->
<html>
<head>
<title>RE: CVODES error</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00022.html">Date Prev</a>] [<a href="msg00024.html">Date Next</a>] [<a href="msg00022.html">Thread Prev</a>] [<a href="msg00024.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00023">Date Index</a></b>]
[<b><a href="threads.html#00023">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>RE: CVODES error</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
&quot;Cao, Yi&quot; &lt;<a href="mailto:Y.Cao%40cranfield.ac.uk">Y.Cao@cranfield.ac.uk</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Thu, 31 Mar 2005 00:17:56 +0100</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>I just found this is caused by some zeros in parameters. If I replace these 
zeros with very small number, say 1e-15, then, everything is fine. Does CVODES 
not support parameters with zero values? Note, I choose scaling vector, Pbar = 
1.
 
Yi Cao

________________________________

From: owner-sundials-users@lists.llnl.gov on behalf of Cao, Yi
Sent: Thu 31/03/2005 00:04
To: sundials-users@llnl.gov
Subject: CVODES error



Radu,

Thank you for your reply. Here are some settings I used:

1. RTol = 1e-6, ATol = 1e-8. ATol is a vector but with equal values.
2. plist is set to 1 to NS (in this case, 6)
3. Initial conditions for sensitivity variables are [I 0], where I is unitary 
matrix.
4. I do not specify tol for sensitivity variables. Yes, I set pbar to 1 through 
CVodeSetSensPbar.

But what is ewtS anyway? I cannot find it from the manual.

Regards,

Yi Cao

________________________________

From: Radu Serban [<a  href="mailto:serban1@llnl.gov">mailto:serban1@llnl.gov</a>]
Sent: Wed 30/03/2005 20:55
To: Cao, Yi
Cc: Radu Serban
Subject: Re: Updated SUNDIALS web pages



Dear Yi,

Please post questions like this one on the sundials-users mailing list (to 
which I see you've subscribed). This way,
everybody can take advantage of the information shared. Also, you may get an 
answer from somebody else, other than me.

In conclusion, please email this question to sundials-users@llnl.gov and also 
provide some more information:
- what are the integration tolerances? Is atol a scalar or a vector?
- what is plist in the call to CVodeSensMalloc? Is it NULL?
- what are the initial conditions for the sensitivity variables? All zeros?
- do you specify tolerances for the sensitivity variables or not (and leave it 
to CVODES to estimate them)? If yes, what
are they? If not, do you set pbar through CVodeSetSensPbar? To what values?

--Radu

Cao, Yi wrote:
&gt;<i> Dear Radu,</i>
&gt;<i></i>
&gt;<i> I got the following error message when I run with CVODES,</i>
&gt;<i></i>
&gt;<i> CVode-- At t = 7.98025e-011, a component of ewtS has become &lt;= 0.</i>
&gt;<i></i>
&gt;<i> SUNDIALS_ERROR: CVode() failed with flag = -2</i>
&gt;<i></i>
&gt;<i> Final Statistics</i>
&gt;<i></i>
&gt;<i> nst     =     1</i>
&gt;<i></i>
&gt;<i> nfe     =     4</i>
&gt;<i> netf    =     0    nsetups  =     1</i>
&gt;<i> nni     =     1    ncfn     =     0</i>
&gt;<i></i>
&gt;<i> nfSe    =    24    nfeS     =     0</i>
&gt;<i> netfs   =     0    nsetupsS =     0</i>
&gt;<i> nniS    =     0    ncfnS    =     0</i>
&gt;<i></i>
&gt;<i> njeD    =     1    nfeD     =     0</i>
&gt;<i></i>
&gt;<i> Could you help me what is ewtS and how to avoid this error?</i>
&gt;<i></i>
&gt;<i> Regards,</i>
&gt;<i></i>
&gt;<i> Yi Cao</i>


--
    Radu Serban
    Center for Applied Scientific Computing   [email] radu@llnl.gov
    Lawrence Livermore National Laboratory    [phone] 925-424-4852
    P.O. Box 808, L-560                       [fax]   925-422-6287
    Livermore, CA 94551





</pre><p><tt>&lt;&lt;winmail.dat&gt;&gt;</tt></p>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00024" href="msg00024.html">Re: CVODES error</a></strong>
<ul><li><em>From:</em> Radu Serban &lt;serban1@llnl.gov&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00022.html">CVODES error</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00024.html">Re: CVODES error</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00022.html">CVODES error</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00024.html">Re: CVODES error</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00023">
<strong>Main</strong></a></li>
<li><a href="threads.html#00023">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
