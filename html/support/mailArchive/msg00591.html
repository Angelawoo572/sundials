<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [sundials&#45;users] passing pointer to an array to f routine -->
<!--X-From-R13: Oaqerl Dbznaraxb <naqerlNratvahz.pbz> -->
<!--X-Date: Sat, 22 Jul 2006 13:19:45 &#45;0700 -->
<!--X-Message-Id: 200607222213.41900.andrey@enginum.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.LNX.4.64.0607212122080.6368@neblt2 -->
<!--X-Head-End-->
<html>
<head>
<title>Re: [sundials-users] passing pointer to an array to f routine</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00590.html">Date Prev</a>] [<a href="msg00592.html">Date Next</a>] [<a href="msg00590.html">Thread Prev</a>] [<a href="msg00597.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00591">Date Index</a></b>]
[<b><a href="threads.html#00591">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sundials-users] passing pointer to an array to f routine</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
Andrey Romanenko &lt;<a href="mailto:andrey%40enginum.com">andrey@enginum.com</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Sat, 22 Jul 2006 22:13:41 +0100</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi,

Well, Radu and Andreas already gave some tips and I would like to warn you of 
the following. it seems that you want to get the values of some variables 
calculated inside the rhs function. Probably you assume that the latest value 
(which is the one you are going to get when you return from Cvode()) is that 
corresponding to tout. I think this has been addressed on the list and the 
short answer is you cannot be sure of it because, for example,  the solver 
can step past tout or it can perturb the system to approximate the jacobian 
if it is not provided. So, do not rely on these values from Cvode. You can 
call the rhs function after the integration is complete.
Radu, please correct me if I am wrong.. 

Andrey Romanenko

On Saturday 22 July 2006 02:40, Robert Burrows wrote:
&gt;<i> I am modeling a network a network of biochemical reactions with CVODE. In</i>
&gt;<i> my case, y and ydot refer to reactant concentrations. I would also like to</i>
&gt;<i> track the flux through individual reactions so I have been trying to pass</i>
&gt;<i> a pointer to an array to the f routine using the f_data argumeent. This is</i>
&gt;<i> fine for passing scalar values but I cannot get it to work for an array.</i>
&gt;<i> The error messages are</i>
&gt;<i>       warning: dereferencing 'void *' pointer</i>
&gt;<i>       error: void value not ignored as it should be</i>
&gt;<i> I have tried casting every which way to no avail. Is there any way to do</i>
&gt;<i> this aside from global variables?</i>
&gt;<i></i>
&gt;<i> FWIW: SUNDIALS 2.2.0</i>
&gt;<i>        Debian(testing), kernel 2.6.15</i>
&gt;<i>        gcc 4.0.4</i>
&gt;<i></i>
&gt;<i> Thanks for any help, and a special thanks to the developers for making</i>
&gt;<i> this great set of applications available.</i>
&gt;<i></i>
&gt;<i> Robert Burrows, PhD</i>
&gt;<i> New England Biometrics</i>
&gt;<i> rbb@nebiometrics.com</i>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00588" href="msg00588.html">[sundials-users] passing pointer to an array to f routine</a></strong>
<ul><li><em>From:</em> Robert Burrows &lt;rbb@nebiometrics.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00590.html">Re: [sundials-users] passing pointer to an array to f routine</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00592.html">Re: [sundials-users] Question about uinsg sundials for problem will ill-conditinoed Jacobian Matrix</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00590.html">Re: [sundials-users] passing pointer to an array to f routine</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00597.html">[sundials-users] DVODPK warning</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00591">
<strong>Main</strong></a></li>
<li><a href="threads.html#00591">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
