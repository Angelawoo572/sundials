<!-- MHonArc v2.6.10 -->
<!--X-Subject: Antwort: [sundials&#45;users] CMake build system for SUNDIALS -->
<!--X-From-R13: envare.fbaarafpurvaNqnvzyrepuelfyre.pbz -->
<!--X-Date: Tue, 30 Jan 2007 00:02:52 &#45;0800 -->
<!--X-Message-Id: OFB105D328.088356FA&#45;ONC1257273.002B0B85&#45;C1257273.002C6880@dcx.dcx -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 45BE49A6.1020900@llnl.gov -->
<!--X-Head-End-->
<html>
<head>
<title>Antwort: [sundials-users] CMake build system for SUNDIALS</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00843.html">Date Prev</a>] [<a href="msg00845.html">Date Next</a>] [<a href="msg00843.html">Thread Prev</a>] [<a href="msg00848.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00844">Date Index</a></b>]
[<b><a href="threads.html#00844">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Antwort: [sundials-users] CMake build system for SUNDIALS</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
<a href="mailto:rainer.sonnenschein%40daimlerchrysler.com">rainer.sonnenschein@daimlerchrysler.com</a></td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Tue, 30 Jan 2007 09:01:26 +0100</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Dear Radu,

Thank you for your this (and other) helpful information. Unfortunately, our
company's security service will not let pass certain file types. I would
appreciate if you could send me the attachment again, this time with a
different harmless extension (e.g. &quot;gnuz&quot;).

Best regards,
Rainer



                                                                           
             radu@llnl.gov                                                 
             Gesendet von:                                                 
             owner-sundials-us                                          An 
             ers@lists.llnl.go          sundials-users@llnl.gov            
             v                                                       Kopie 
                                                                           
                                                                     Thema 
             29.01.2007 20:23           [sundials-users] CMake build       
                                        system for SUNDIALS                
                                                                           
              Bitte antworten                                              
                    an                                                     
             sundials-users@ll                                             
                  nl.gov                                                   
                                                                           
                                                                           




Hello,

I thought that learning cmake would be a fun weekend project :-)  I was
(pleasantly) surprised to find that it was possible to create a build
system for
SUNDIALS which is almost as comprehensive as the autotools-based one.

The attached tarball (sun_cmake.tar.gz) contains the necessary cmake
configuration files. It must be copied and expanded in the top level
SUNDIALS
source directory (note that if you have not downloaded the entire suite but
only
one solver you may want to expand this tarball in a separate directory and
copy
the relevant cmake configuration files in their appropriate locations in
the
SUNDIALS source tree.)

For a tutorial on how to use cmake to configure and build sundials, see
Andreas
Nicolai's webpage at
<a  href="http://www.bauklimatik-dresden.de/privat/nicolai/html/en/sundials_cmake.html">http://www.bauklimatik-dresden.de/privat/nicolai/html/en/sundials_cmake.html</a>


A few observations:

- Due to a bug in cmake (which also parses the comments in Fortran source
files), some of the Fortran examples in SUNDIALS will not build unless they
are
slightly modified: you must remove all occurrences of &quot;use&quot; and &quot;module&quot; in

comments. The affected files are fcvdenx.f, fcvkryx.f, fcvkryx_bp.f  (in
examples/cvode/fcmix_serial) and fidadenx.f (in examples/ida/fcmix_serial)

- The installation of examples follows a new philosophy (which will be
adopted
in the next release also for the autotools-based build system): If examples
are
enabled by the user, &quot;make&quot; will build all pertinent examples together with
the
SUNDIALS libraries, but &quot;make install&quot; will export (in a subdirectory of
the
installation directory) the example sources and sample outputs together
with
automatically generated configuration files that reference the installed
SUNDIALS headers and libraries (and which can therefore be used as
&quot;templates&quot;
for your own problems). The configure script will install makefiles. CMake
installs CMakeLists.txt files and also (as an option available only under
*NIX)
makefiles.
Note: the exported example makefiles are generated from templates (also
included
in the attached tarball).

- As with autotools, even if generation of shared libraries is enabled,
only
static libraries are created for the FCMIX modules (due to the use of fixed

names for the Fortran user-provided subroutines, FCMIX shared libraries
would
result in &quot;undefined symbol&quot; errors at link time)

- I have only tested this under Linux so I'd appreciate any feedback on how
it
works on other platforms.


I hope that this will be useful, at least for those of you working under
Windows. Even under Linux, the Curses interface to CMake (ccmake) has the
appeal
of allowing interactive configuration.


Regards,
--Radu




File attachment: sun_cmake.tar.gz
The file attached to this email was removed
because the file name is not allowed.

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00842" href="msg00842.html">[sundials-users] CMake build system for SUNDIALS</a></strong>
<ul><li><em>From:</em> Radu Serban &lt;radu@llnl.gov&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00843.html">Re: [sundials-users] CMake build system for SUNDIALS</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00845.html">[sundials-users] CPU-Time and Output</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00843.html">Re: [sundials-users] CMake build system for SUNDIALS</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00848.html">Re: [sundials-users] CMake build system for SUNDIALS</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00844">
<strong>Main</strong></a></li>
<li><a href="threads.html#00844">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
