<!-- MHonArc v2.6.10 -->
<!--X-Subject: RE: [sundials&#45;users] Sundials Toolbox on windows -->
<!--X-From-R13: "Zbcrm, Rnavry" <Rnavry.ZbcrmNkrebkynof.pbz> -->
<!--X-Date: Fri, 23 Jun 2006 13:06:57 &#45;0700 -->
<!--X-Message-Id: 19544DDD29208A4A924C554E08BF789D117BCA@WCXLMAIL.wcrt.xeroxlabs.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 449C4585.7040006@llnl.gov -->
<!--X-Head-End-->
<html>
<head>
<title>RE: [sundials-users] Sundials Toolbox on windows</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00539.html">Date Prev</a>] [<a href="msg00541.html">Date Next</a>] [<a href="msg00541.html">Thread Prev</a>] [<a href="msg00542.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00540">Date Index</a></b>]
[<b><a href="threads.html#00540">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>RE: [sundials-users] Sundials Toolbox on windows</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
&quot;Lopez, Daniel&quot; &lt;<a href="mailto:Daniel.Lopez%40xeroxlabs.com">Daniel.Lopez@xeroxlabs.com</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Fri, 23 Jun 2006 16:02:02 -0400</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Radu,
Once again, thanks for your time on this.  SundialsTB is in C:\Program
Files\MATLAB\R2006a\toolbox\sundialsTB\src' as you had guessed, while
sundials is simply in C:\sundials.  I hope that this helps you isolate
the problem.  Also, here it the mex command itself:

mex -g -v -IC:\Program Files\MATLAB\R2006a\toolbox\sundialsTB\src
-IC:\Program Files\MATLAB\R2006a\toolbox\sundialsTB\src\cvm -IC:\Program
Files\MATLAB\R2006a\toolbox\sundialsTB\src\nvm
-IC:\sundials\cvodes\include -IC:\sundials\cvodes\source
-IC:\sundials\shared\include -IC:\sundials\nvec_ser  C:\Program
Files\MATLAB\R2006a\toolbox\sundialsTB\src\cvm\cvm.c C:\Program
Files\MATLAB\R2006a\toolbox\sundialsTB\src\cvm\cvmWrap.c C:\Program
Files\MATLAB\R2006a\toolbox\sundialsTB\src\cvm\cvmOpts.c C:\Program
Files\MATLAB\R2006a\toolbox\sundialsTB\src\nvm\nvm_serial.c C:\Program
Files\MATLAB\R2006a\toolbox\sundialsTB\src\nvm\nvm_ops.c
C:\sundials\cvodes\source\cvodes_band.c
C:\sundials\cvodes\source\cvodes_bandpre.c
C:\sundials\cvodes\source\cvodes_bbdpre.c
C:\sundials\cvodes\source\cvodes_dense.c
C:\sundials\cvodes\source\cvodes_diag.c
C:\sundials\cvodes\source\cvodea.c C:\sundials\cvodes\source\cvodes.c
C:\sundials\cvodes\source\cvodes_io.c
C:\sundials\cvodes\source\cvodea_io.c
C:\sundials\cvodes\source\cvodes_spils.c
C:\sundials\cvodes\source\cvodes_spbcgs.c
C:\sundials\cvodes\source\cvodes_spgmr.c
C:\sundials\cvodes\source\cvodes_sptfqmr.c
C:\sundials\shared\source\sundials_band.c
C:\sundials\shared\source\sundials_dense.c
C:\sundials\shared\source\sundials_iterative.c
C:\sundials\shared\source\sundials_nvector.c
C:\sundials\shared\source\sundials_smalldense.c
C:\sundials\shared\source\sundials_spbcgs.c
C:\sundials\shared\source\sundials_spgmr.c
C:\sundials\shared\source\sundials_sptfqmr.c
C:\sundials\shared\source\sundials_math.c
C:\sundials\nvec_ser\nvector_serial.c 
 This is mex, Copyright 1984-2005 The MathWorks, Inc.
Thanks,
Dan Lopez



-----Original Message-----
From: owner-sundials-users@lists.llnl.gov
[<a  href="mailto:owner-sundials-users@lists.llnl.gov">mailto:owner-sundials-users@lists.llnl.gov</a>] On Behalf Of Radu Serban
Sent: Friday, June 23, 2006 3:48 PM
To: sundials-users@llnl.gov
Subject: Re: [sundials-users] Sundials Toolbox on windows

Dan,

Aha, we're getting there. The problem appears to be what I suspected.

The install_STB.m script I sent before displays the mex command which
will be executed (right before eval(mex_cmd)).
Could you please post what that command is (it's a fairly long string,
so maybe you can split it on several lines before posting it)?

Also, what are the locations in which you installed sundials (which you
need to enter at the prompt when running install_STB) and sundialsTB 
(which is the directory in which you should be running install_STB).
 From your message, I infer that the latter is 'C:\Program
Files\MATLAB\R2006a\toolbox\sundialsTB\src', correct?

--Radu

Lopez, Daniel wrote:
&gt;<i> Radu, </i>
&gt;<i> Thanks for providing this file.  However, I am still getting the same</i>
&gt;<i> problem that I had before that prompted making the changes I did,</i>
which
&gt;<i> I now see were completely wrong.  Here is a copy of it:</i>
&gt;<i> C:\PROGRAM FILES\MATLAB\R2006A\BIN\MEX.PL: Error:</i>
&gt;<i> 'Files\MATLAB\R2006a\toolbox\sundialsTB\src' not found. </i>
&gt;<i>  </i>
&gt;<i> ??? Error using ==&gt; mex</i>
&gt;<i> Unable to complete successfully</i>
&gt;<i> </i>
&gt;<i> Error in ==&gt; install_STB&gt;install_CVM at 168</i>
&gt;<i> eval(mex_cmd);</i>
&gt;<i> </i>
&gt;<i> Error in ==&gt; install_STB at 44</i>
&gt;<i>     install_CVM(stb,sun,par,dbg);</i>
&gt;<i> </i>
&gt;<i> This makes me think that somewhere in the file paths the name of the</i>
&gt;<i> file was truncated in some way, since that should be Program</i>
&gt;<i> Files\MATLAB\etc.</i>
&gt;<i> I'm not quite sure how to fix this, but it seems to me like that is</i>
the
&gt;<i> problem and it also exists in the install_KIM.</i>
&gt;<i> Thanks again,</i>
&gt;<i> Dan</i>
&gt;<i> </i>
&gt;<i> </i>
&gt;<i> Dan,</i>
&gt;<i> </i>
&gt;<i> I'm not quite sure what you mean by the install process working after</i>
&gt;<i> the two changes you've made. You never call the mex script so </i>
&gt;<i> obviously you will not get the mex files cvm.dll and kim.dll.</i>
&gt;<i> </i>
&gt;<i> What prompted you to make those modifications to install_STB.m?</i>
&gt;<i> </i>
&gt;<i> I installed sundialsTB for Windows only using cygwin and that worked</i>
&gt;<i> just fine using the distribution install_STB.m. However, now I realize</i>

&gt;<i> that there may be some issues related to the format of file paths on</i>
&gt;<i> Windows. I attached a modified install_STB.m which uses the platform </i>
&gt;<i> independent fullfile function to create the necessary full filenames.</i>
&gt;<i> Maybe your installation problem was related to this?</i>
&gt;<i> </i>
&gt;<i> --Radu</i>
&gt;<i> </i>


-- 
    Radu Serban
    Center for Applied Scientific Computing   [email] radu@llnl.gov
    Lawrence Livermore National Laboratory    [phone] 925-424-4852
    P.O. Box 808, L-560                       [fax]   925-422-6287
    Livermore, CA 94551


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00542" href="msg00542.html">Re: [sundials-users] Sundials Toolbox on windows</a></strong>
<ul><li><em>From:</em> Radu Serban &lt;radu@llnl.gov&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00541" href="msg00541.html">Re: [sundials-users] Sundials Toolbox on windows</a></strong>
<ul><li><em>From:</em> Radu Serban &lt;radu@llnl.gov&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00539.html">RE: [sundials-users] Sundials Toolbox on windows</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00541.html">Re: [sundials-users] Sundials Toolbox on windows</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00541.html">Re: [sundials-users] Sundials Toolbox on windows</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00542.html">Re: [sundials-users] Sundials Toolbox on windows</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00540">
<strong>Main</strong></a></li>
<li><a href="threads.html#00540">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
