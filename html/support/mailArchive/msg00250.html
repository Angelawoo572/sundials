<!-- MHonArc v2.6.10 -->
<!--X-Subject: RE: Building SUNDIALS/CVODE on Windows -->
<!--X-From-R13: Vreoreg Enheb <Vreoreg_EnhebNxtv.rqh> -->
<!--X-Date: Tue, 24 Jan 2006 17:51:10 &#45;0800 (PST) -->
<!--X-Message-Id: 601BBB4D9640CB4693A2384E4B37872E01E61F3A@dell2650&#45;0550.kgi.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<html>
<head>
<title>RE: Building SUNDIALS/CVODE on Windows</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00249.html">Date Prev</a>] [<a href="msg00251.html">Date Next</a>] [<a href="msg00246.html">Thread Prev</a>] [<a href="msg00251.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00250">Date Index</a></b>]
[<b><a href="threads.html#00250">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>RE: Building SUNDIALS/CVODE on Windows</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
Herbert Sauro &lt;<a href="mailto:Herbert_Sauro%40kgi.edu">Herbert_Sauro@kgi.edu</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Tue, 24 Jan 2006 17:44:28 -0800</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
For GUI applications it would be convenient to get error messages via a
function that returns a string rather than via the stderr channel. For
example we have an application where the error messages are directed to
a file which we then read to get the actual message so that it can be
displayed to the user. For Unix systems this is not an issue since I
imagine many apps are console based and sending messages to stderr makes
perfect sense. Clearly this is a convenience issue and not a deal
breaker and if it is too difficult to have any alternative approach then
so be it. If there are windows developers out does anyone know how to
direct stderr to a stream rather then to a file, particularly under
.NET?

Herbert Sauro 

-----Original Message-----
From: Radu Serban [<a  href="mailto:serban1@llnl.gov">mailto:serban1@llnl.gov</a>] 
Sent: Tuesday, January 24, 2006 5:13 PM
To: sundials-users@llnl.gov
Subject: Re: Building SUNDIALS/CVODE on Windows

Alan Garny wrote:
&gt;<i>&gt;Alan Garny wrote:</i>
&gt;<i>&gt;</i>
&gt;<i>&gt;&gt;Most important, though, may be a compiler directive that </i>
&gt;<i>&gt;&gt;enables/disables output (i.e. the &quot;fprintf&quot; statements).</i>
&gt;<i>&gt;</i>
&gt;<i>&gt;What is the problem with the fprintf statements? Note that:</i>
&gt;<i>&gt;1) A message is printed ONLY if an error occurred.</i>
&gt;<i>&gt;2) Even then, you can disable 99% of them by redirecting output to a </i>
&gt;<i>&gt;'NULL' file.</i>
&gt;<i>&gt;    In CVODE/CVODES for example, use</i>
&gt;<i>&gt;      CVodeSetErrFile(cvode_mem, NULL);</i>
&gt;<i>&gt;    right after CVodeCreate(). This will disable all future error </i>
&gt;<i>&gt;message output</i>
&gt;<i>&gt;    (unless the solver memory is NULL in some function).</i>
&gt;<i>&gt;3) Or else you can use CVodeSetErrFile to redirect all output to some </i>
&gt;<i>&gt;temporary file.</i>

Hi Alan,

&gt;<i> Argh, I obviously overlooked CVodeSetErrFile... I, however, just had a</i>

&gt;<i> quick look back at the source code and noticed that there is a fair </i>
&gt;<i> number of calls to &quot;fprintf&quot; with &quot;stderr&quot;, so that wouldn't solve my </i>
&gt;<i> problem. The problem is that my application is a pure Windows one and </i>
&gt;<i> not a console application, so there is no easy way for me to allow </i>
&gt;<i> COVDE to output errors to &quot;stderr&quot; or elsewhere.</i>

If CVodeSetErrFile is called as soon as possible (i.e. right after
CVodeCreate) then the only error messages that are sent to stderr are
those from CVodeCreate (indicating an illegal input or a memory
allocation failure) and those indicating that the cvode memory is NULL
(i.e. a CVODE function is called before CVodeCreate).

(Note: in the current release there are a few places where fprintf
unnecessarily uses stderr, but these have been fixed for the next
release).

My point is that such errors are quite unlikely with a minimum of
carefulness and so all meaningful error messages can actually be
redirected or disabled with CVodeSetErrFile.

&gt;<i> So, to have that compiler directive I mentioned earlier would be very </i>
&gt;<i> nice indeed (for me at least... :)). Also, you return an error code </i>
&gt;<i> and that ought to suffice.</i>

If only all users would test the error return flag after each call to a
CVODE function :-)

Adding a compiler directive to suppress output could lead to problems
for users that use the SUNDIALS libraries installed by someone else.

&gt;<i> One could, in fact, have a function that would return the error </i>
&gt;<i> message (based on the error code), if required.</i>

I can see at least two reasons why this is not advisable:
1) To keep the number of error codes to a minimum, the same one may be
used for different situations (e.g. CV_ILL_INPUT) which are
differentiated only through the error message.
2) Some error messages also print various quantities (the current time,
step size) which are context dependent and would be difficult to pass to
such a function.

&gt;<i> Personally, I would very much welcome such a function, as I had to go </i>
&gt;<i> through all the important bits of the library to extract the error </i>
&gt;<i> messages that could potentially help me debug my application, should </i>
&gt;<i> CVODE fail to integrate one of my systems of ODEs.</i>

All CVODE constants (including error codes) are listed in Chapter 9 of
the user guide.

&gt;<i>       Alan.</i>

--Radu



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00251" href="msg00251.html">Re: Building SUNDIALS/CVODE on Windows</a></strong>
<ul><li><em>From:</em> Andreas Nicolai &lt;Andreas.Nicolai@gmx.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00249.html">Re: Building SUNDIALS/CVODE on Windows</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00251.html">Re: Building SUNDIALS/CVODE on Windows</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00246.html">RE: Building SUNDIALS/CVODE on Windows</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00251.html">Re: Building SUNDIALS/CVODE on Windows</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00250">
<strong>Main</strong></a></li>
<li><a href="threads.html#00250">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
