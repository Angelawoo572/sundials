<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [sundials&#45;users] Stiff ODE solution is slow? -->
<!--X-From-R13: Oyna Vvaqznefu <nynauNyyay.tbi> -->
<!--X-Date: Tue, 19 Dec 2006 11:26:20 &#45;0800 -->
<!--X-Message-Id: Pine.LNX.4.58.0612191120520.20295@tux64.llnl.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20061218191211.19563.qmail@web58403.mail.re3.yahoo.com -->
<!--X-Head-End-->
<html>
<head>
<title>Re: [sundials-users] Stiff ODE solution is slow?</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00827.html">Date Prev</a>] [<a href="msg00829.html">Date Next</a>] [<a href="msg00827.html">Thread Prev</a>] [<a href="msg00810.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00828">Date Index</a></b>]
[<b><a href="threads.html#00828">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sundials-users] Stiff ODE solution is slow?</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
Alan Hindmarsh &lt;<a href="mailto:alanh%40llnl.gov">alanh@llnl.gov</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Tue, 19 Dec 2006 11:23:44 -0800 (PST)</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hello Raj,

SUNDIALS does not do any actual reordering of dependent variables.
(It does partial pivoting in the dense and banded solvers, but that
is for numerical stability, not for bandwidth reduction.)

The only linear solver in SUJNDIALS for which ordering is important is
the banded linear system solver -- either as used directly or as used
on a preconditioner.  For band matrices, ordering is critical -- to
get the bandwidth as small as possible, and hence maximize efficiency.
For example, a pair of coupled PDEs, discretized in space, gives a
system of ODEs that could be ordered either (a) first by PDE component
then by spatial index, or (b) the reverse.  For ordering (b) the
Jacobian is not banded at all; there are elements in the upper right
and lower left corners from the coupling of the two PDE components.
For ordering (a) the Jacobian is banded, according to the
nearest-neighbor coupling in the discretized spatial operator.

So, when the banded solver is involved, pay attention to ordering.
Otherwise, use whatever ordering is natural for the application.

-Alan H


On Mon, 18 Dec 2006, raj duffy wrote:

&gt;<i> Dear Dr. Hindmarsh</i>
&gt;<i></i>
&gt;<i> In the first comment in reply to Greg's question, you have pointed out</i>
&gt;<i>at &quot;interchanging of components&quot;. I was wondering if this is needed when</i>
&gt;<i>we solve ODEs without preconditioner too using Krylov-GMRES method.</i>
&gt;<i>Because I generally pass on the y_dot values according to how they are</i>
&gt;<i>spatially arranged. And if this(re-ordering) is needed  for other</i>
&gt;<i>pre-conditioners too other than BBDPrecond inbuilt in CVODE. I</i>
&gt;<i>was of the impression earlier that matrix reorderding was being performed</i>
&gt;<i>in CVODE.</i>
&gt;<i></i>
&gt;<i>Thanks</i>
&gt;<i>Raj</i>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00827" href="msg00827.html">Re: [sundials-users] Stiff ODE solution is slow?</a></strong>
<ul><li><em>From:</em> raj duffy &lt;raj_duffy@yahoo.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00827.html">Re: [sundials-users] Stiff ODE solution is slow?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00829.html">[sundials-users] RPM for SUNDIALS</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00827.html">Re: [sundials-users] Stiff ODE solution is slow?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00810.html">[sundials-users] CVODES with fortran</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00828">
<strong>Main</strong></a></li>
<li><a href="threads.html#00828">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
