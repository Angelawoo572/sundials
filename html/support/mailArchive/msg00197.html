<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: N_Vector &#38; solver module unit test suite? -->
<!--X-From-R13: Yriva Zbat <xeybatNfnaqvn.tbi> -->
<!--X-Date: Mon, 12 Dec 2005 15:06:04 &#45;0800 (PST) -->
<!--X-Message-Id: 200512121500.57163.krlong@sandia.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 200512091644.04891.krlong@sandia.gov -->
<!--X-Reference: 439DEC3A.6070108@llnl.gov -->
<!--X-Head-End-->
<html>
<head>
<title>Re: N_Vector &amp; solver module unit test suite?</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00196.html">Date Prev</a>] [<a href="msg00198.html">Date Next</a>] [<a href="msg00195.html">Thread Prev</a>] [<a href="msg00200.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00197">Date Index</a></b>]
[<b><a href="threads.html#00197">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: N_Vector &amp; solver module unit test suite?</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
Kevin Long &lt;<a href="mailto:krlong%40sandia.gov">krlong@sandia.gov</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Mon, 12 Dec 2005 15:00:57 -0800</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Aaron,

OK, thanks. 

I tested my adaptors by verifying that I could run all your example codes and 
get the same answers as with your built-in N_Vector objects to acceptable 
accuracy. As expected, the results are not identical because operations in 
the two vector implementations may be performed in different order leading to 
different rounding. To get an baseline of how much mismatch I should expect 
due to different roundoff, I compared runs of your code as compiled with two 
different optimization flags. 

However, let me suggest that a set of vector unit tests would be a good idea. 
I had to debug problems in my adaptors through running your examples and 
trying to find out what in my vector implementation was causing the resulting 
differences with runs using your vectors. It took me a couple of hours and 
lots of printing of vectors to find that I'd simply misread the documentation 
on one of your vector operations, which was not used until numerous timesteps 
had passed. It would have been much, much simpler to find the problem with 
tests that systematically checked each vector operation in isolation.

- kevin

On Monday 12 December 2005 13:31, Aaron Collier wrote:
&gt;<i> Dear Kevin,</i>
&gt;<i></i>
&gt;<i> No, there does not currently exist an abstract unit test suite for the</i>
&gt;<i> NVECTOR or solver modules.</i>
&gt;<i></i>
&gt;<i> --Aaron</i>
&gt;<i></i>
&gt;<i> Kevin Long wrote:</i>
&gt;<i> &gt; Hi,</i>
&gt;<i> &gt;</i>
&gt;<i> &gt; Does there exist an abstract unit test suite for N_Vector and solver</i>
&gt;<i> &gt; modules? Such a thing would be helpful for people trying to wrap vector</i>
&gt;<i> &gt; and solver libraries in the SUNDIALS interfaces. Because N_Vector and the</i>
&gt;<i> &gt; linear solver modules are representation independent, a single test suite</i>
&gt;<i> &gt; could be used for all N_Vector/solver implementations. As one who is</i>
&gt;<i> &gt; fanatical about testing as I develop, I'd feel safer if I could know that</i>
&gt;<i> &gt; my vector and solver wrappers are behaving as expected by SUNDIALS before</i>
&gt;<i> &gt; going on to solving DAEs.</i>
&gt;<i> &gt;</i>
&gt;<i> &gt; I can (and do) test all the vector operations required by SUNDIALS within</i>
&gt;<i> &gt; the context of my own vector library, but it would be handy to test them</i>
&gt;<i> &gt; through the SUNDIALS interface as well.</i>
&gt;<i> &gt;</i>
&gt;<i> &gt; Thanks,</i>
&gt;<i> &gt;</i>
&gt;<i> &gt; - kevin</i>

-- 
-----------------------------------------------------------------------------
        Dr. Kevin Long
        Computational Science and Mathematics Research Department 
        Sandia National Laboratories          

        MS 9217                               krlong@ca.sandia.gov
        Livermore, CA 94551                   (925)-294-4910
-----------------------------------------------------------------------------

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00192" href="msg00192.html">N_Vector &amp; solver module unit test suite?</a></strong>
<ul><li><em>From:</em> Kevin Long &lt;krlong@sandia.gov&gt;</li></ul></li>
<li><strong><a name="00195" href="msg00195.html">Re: N_Vector &amp; solver module unit test suite?</a></strong>
<ul><li><em>From:</em> Aaron Collier &lt;collier6@llnl.gov&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00196.html">Re: must N_VSpace return an exact result?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00198.html">Re: User access to c_j?</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00195.html">Re: N_Vector &amp; solver module unit test suite?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00200.html">Difficulty building sundials on windows</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00197">
<strong>Main</strong></a></li>
<li><a href="threads.html#00197">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
