<!-- MHonArc v2.6.10 -->
<!--X-Subject: [sundials&#45;users] Missing files in sundialsTB -->
<!--X-From-R13: Dnqh Ereona <enqhNyyay.tbi> -->
<!--X-Date: Wed, 22 Nov 2006 12:00:47 &#45;0800 -->
<!--X-Message-Id: 4564AB95.7040804@llnl.gov -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: b69c91a10611221046u4b4126f3wd6a900e6e32b1996@mail.gmail.com -->
<!--X-Derived: tarNr60V5Vq58.tar -->
<!--X-Head-End-->
<html>
<head>
<title>[sundials-users] Missing files in sundialsTB</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00776.html">Date Prev</a>] [<a href="msg00778.html">Date Next</a>] [<a href="msg00775.html">Thread Prev</a>] [<a href="msg00785.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00777">Date Index</a></b>]
[<b><a href="threads.html#00777">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[sundials-users] Missing files in sundialsTB</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
Radu Serban &lt;<a href="mailto:radu%40llnl.gov">radu@llnl.gov</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Wed, 22 Nov 2006 11:57:09 -0800</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<tt>Johan Sj&#xF6;berg wrote:
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">Dear Dr. Serban,</pre><br>
<tt>I was installing your solver suite sundials, and just noticed that 
during the installation (based on the script), the files</tt><br>
<br>
<pre style="margin: 0em;">fullfile('cvodes','CVodeReInit.m')
fullfile('cvodes','CVodeReInitB.m ')</pre><br>
<pre style="margin: 0em;">fullfile('cvodes','CVodeSensToggleOff.m')
fullfile('cvodes','CVodeSensReInit.m')</pre><br>
<tt>could not be found and what I can see they are not included in the 
downloaded package either. Are this the case or have I made some mistake 
(this is the probable answer)? Are these files important, because if the 
rows above is removed it seems to work perfect? Furthermore, the example 
cvdx.m also seems to work without these files.</tt><br>
<br>
<pre style="margin: 0em;">Best regards
Johan Sj&#xF6;berg  (Phd student Link&#xF6;ping university)</pre><br>
</blockquote><pre style="margin: 0em;"><br>Hi Johan,</pre><br>
<tt>Thanks for pointing this out. Indeed, I missed adding these four files when I 
packed the SUNDIALS files. Solver reinitialization was one of the new things 
that were exposed in the latest sundialsTB release and I forgot to include the 
wrappers...<br>
I attached a tarball with the missing files. Simply unpack it in sundialsTB/cvodes/</tt><br>
<br>
<pre style="margin: 0em;">--Radu</pre><br>
<tt>P.S. The reason everything worked fine after removing the above lines from the 
install script is that none of the examples provided with sundialsTB used one of 
those four functions. I've also attached a trivial cvodes example, cvdiscx.m 
which uses CVodeReInit to integrate over a discontinuity in the solution at an 
explicitly given time.
</tt><p><strong>Attachment:
<a href="tarNr60V5Vq58.tar" ><tt>stb_missing_files.tar.gz</tt></a></strong><br>
<em>Description:</em> Unix tar archive</p>
<pre>function [] = cvdiscx
%CVDISCX - CVODES example with solution discontinuity
%  Trivial CVODES example to illustrate the use of
%  CVodeReInit to integrate over a discontinuity in 
%  the solution:
%       y' = -y   ; y(0) = 1    ; t = [0,1]
%       y' = -y   ; y(1) = 1    ; t = [1,2]
%

% Radu Serban &lt;radu@llnl.gov&gt;
% Copyright (c) 2005, The Regents of the University of California.
% $Revision: 1.1 $

t0 = 0.0;
t1 = 1.0;
t2 = 2.0;

% Initialize solver
y = 1.0;
options = CVodeSetOptions('RelTol',1.e-3,...
                          'AbsTol',1.e-4,...
                          'StopTime',t1,...
                          'LinearSolver','Dense');
CVodeMalloc(@cvdiscx_f,t0,y,options);

% Integrate to the point of discontinuity
t = t0;
i = 1;
tt(i) = t0; yy(i) = y;
while t &lt; t1
  [status, t, y] = CVode(t1,'OneStepTstop');
  i = i+1;
  tt(i) = t;
  yy(i) = y;
end

% Add discontinuity and reinitialize solver
y = 1.0;
options = CVodeSetOptions(options,'StopTime',t2);
CVodeReInit(@cvdiscx_f,t1,y,options);

% Integrate from discontinuity to final time
t = t1;
i = i+1;
tt(i) = t1; yy(i) = y;
while t &lt; t2
  [status, t, y] = CVode(t2,'OneStepTstop');
  i = i+1;
  tt(i) = t;
  yy(i) = y;
end

% Plot solution
figure
plot(tt,yy)
title('Discontinuity in solution');
xlabel('time');
ylabel('y');

% Free memory
CVodeFree;


function [yd, flag] = cvdiscx_f(t, y)
% RHS function for the CVDISCX example problem.

yd(1) = -y(1);
flag = 0;
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00776.html">Re: [sundials-users] Compiling ODE with very long equations</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00778.html">Re: [sundials-users] multiple calls to CVODE in a single program</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00775.html">[sundials-users] multiple calls to CVODE in a single program</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00785.html">[no subject]</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00777">
<strong>Main</strong></a></li>
<li><a href="threads.html#00777">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
