<!-- MHonArc v2.6.10 -->
<!--X-Subject: [sundials&#45;users] Problem building Sundials in Visual Studio 2005 -->
<!--X-From-R13: "Xba Brnepr" <wbacrnNtznvy.pbz> -->
<!--X-Date: Sun, 06 Aug 2006 21:35:14 &#45;0700 -->
<!--X-Message-Id: f01d12d40608062132y29f0d1dq2c24828f69655539@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Head-End-->
<html>
<head>
<title>[sundials-users] Problem building Sundials in Visual Studio 2005</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00608.html">Date Prev</a>] [<a href="msg00610.html">Date Next</a>] [<a href="msg00608.html">Thread Prev</a>] [<a href="msg00610.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00609">Date Index</a></b>]
[<b><a href="threads.html#00609">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[sundials-users] Problem building Sundials in Visual Studio 2005</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
&quot;Jon Pearce&quot; &lt;<a href="mailto:jonpea%40gmail.com">jonpea@gmail.com</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Mon, 7 Aug 2006 16:32:41 +1200</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Dear Sundials Users,<br><br>I am trying to get Sundials to work in Visual Studio 2005. The Sundials libraries compile without any problems after running configure in Cygwin. When building one of the example programs shipped with IDA, I get the following missing symbol, __iob_func:
<br><br>[ BEGIN VC++ BUILD OUTPUT ]<br>------ Build started: Project: ida_irobx_example, Configuration: Debug Win32 ------<br>Compiling...<br>irobx.c<br>Linking...<br>irobx.obj : error LNK2019: unresolved external symbol ___iob_func referenced in function _check_flag
<br>ida.lib(idaio.obj) : error LNK2001: unresolved external symbol ___iob_func<br>ida.lib(idadense.obj) : error LNK2001: unresolved external symbol ___iob_func<br>ida.lib(ida.obj) : error LNK2001: unresolved external symbol ___iob_func
<br>C:\Documents and Settings\Jon\My Documents\Jon\jpea047\new\coding\contributed\lib\sundials\vc8ide\Debug\ida_irobx_example.exe : fatal error LNK1120: 1 unresolved externals<br>Build log was saved at &quot;<a href="file://c:\Documents">
file://c:\Documents</a> and Settings\Jon\My Documents\Jon\jpea047\new\coding\contributed\lib\sundials\vc8ide\Debug\BuildLog.htm&quot;<br>ida_irobx_example - 5 error(s), 0 warning(s)<br>[ END VC++ BUILD OUTPUT ]<br>
<br>It is possible to solve the immediate problem by replacing fprintf(stderr, ..., ...) with printf(..., ...) in the check_flag() static function that is used in many Sundials example programs. However, the subsequent build output shows that this fix is not sufficient:
<br><br>[ BEGIN VC++ BUILD OUTPUT ]<br>------ Build started: Project: ida_irobx_example, Configuration: Debug Win32 ------<br>Compiling...<br>irobx.c<br>Linking...<br>ida.lib(idaio.obj) : error LNK2019: unresolved external symbol ___iob_func referenced in function _IDASetErrFile
<br>ida.lib(idadense.obj) : error LNK2001: unresolved external symbol ___iob_func<br>ida.lib(ida.obj) : error LNK2001: unresolved external symbol ___iob_func<br>C:\Documents and Settings\Jon\My Documents\Jon\jpea047\new\coding\contributed\lib\sundials\vc8ide\Debug\ida_irobx_example.exe : fatal error LNK1120: 1 unresolved externals
<br>Build log was saved at &quot;<a href="file://c:\Documents">file://c:\Documents</a> and Settings\Jon\My Documents\Jon\jpea047\new\coding\contributed\lib\sundials\vc8ide\Debug\BuildLog.htm&quot;<br>ida_irobx_example - 4 error(s), 0 warning(s)
<br>[ END VC++ BUILD OUTPUT ]<br>
<br>Looking around on the web, it appears that problems with __iob_func are Windows-specific.<br><br>I would be grateful to hear if any other users have encountered this problem. Has anyone found an effective solution?<br>
<br>Many thanks for your time,<br><br>Jon Pearce<br><br>PS Earlier messages to this list regarding Sundials on VS 2003 are pasted below.<br><br><br><br>RE: SUNDIALS, Visual C++, and Java<br>From &nbsp;&nbsp; &nbsp;Herbert Sauro &lt;<a href="mailto:Herbert_Sauro@kgi.edu">
Herbert_Sauro@kgi.edu</a>&gt;<br>Date &nbsp;&nbsp; &nbsp;Tue, 17 May 2005 13:59:11 -0700<br><br>&nbsp;<br>It's not difficult to get sundials working under <a href="http://VS.NET">VS.NET</a>, just make sure<br>you run the configure command under cygwin, this will generate all the
<br>necessary inlcude files. Then just create a normal VS.Net project and<br>add the necessary files to the project. It was very straight forward<br>once I realised I had to do the cygwin step.<br><br>Herbert Sauro<br><br>
-----Original Message-----<br>From: Radu Serban [mailto:<a href="mailto:serban1@llnl.gov">serban1@llnl.gov</a>] <br>Sent: Tuesday, May 17, 2005 11:09 AM<br>To: Woo-Chang Hwang; <a href="mailto:sundials-users@llnl.gov">sundials-users@llnl.gov
</a><br>Subject: SUNDIALS, Visual C++, and Java<br><br>Hello Woo-Chang,<br><br>As I mentioned to you before, to build the SUNDIALS libraries under<br>Windows, you can either use cygwin, or set up your own project under<br>
Visual C++ by specifying the location of all source and header files.<br>You will need to create by hand one header file (sundials_config.h)<br>which is otherwise created automatically by the configure script. The<br>following two lines in sundials_config.h should be enough:
<br><br>#define SUNDIALS_DOUBLE_PRECISION<br>#define SUNDIALS_USE_GENERIC_MATH<br><br>I have personally installed SUNDIALS under Windows only using cygwin, in<br>which case you can do it exactly as under UNIX, that is using the
<br>configure script (and you do not need to generate any files by hand). I<br>do not have experience with using Visual C++ but I cannot imagine it<br>being too complicated to build SUNDIALS.<br><br>Just in case someone else can help you with more details, I cc-ed this
<br>to the sundials-users mailing list.<br><br>Regards,<br>--Radu Serban<br><br><br>Woo-Chang Hwang wrote:<br>&gt; Hi!<br>&gt; I am trying to build a shared library of sundials using visual c++.<br>&gt; And I want to use that library in my java program.
<br>&gt; Is there any good reference that guide me to do this without a<br>problem?<br>&gt; In mailing list of your sundials website, people mentioned just sparse<br><br>&gt; informations about it.<br>&gt; Do you have any organized full description about compiling and 
<br>&gt; building libraries of sundials in windows environment using visual<br>c++.<br>&gt; Thanks.<br>&gt; <br><br><br><br><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00610" href="msg00610.html">Re: [sundials-users] Problem building Sundials in Visual Studio 2005</a></strong>
<ul><li><em>From:</em> Radu Serban &lt;radu@llnl.gov&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00608.html">RE: [sundials-users] Compiling SUNDIALS with CLR support (Visual C++)</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00610.html">Re: [sundials-users] Problem building Sundials in Visual Studio 2005</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00608.html">RE: [sundials-users] Compiling SUNDIALS with CLR support (Visual C++)</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00610.html">Re: [sundials-users] Problem building Sundials in Visual Studio 2005</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00609">
<strong>Main</strong></a></li>
<li><a href="threads.html#00609">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
