<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [sundials&#45;users] Sundials compilation error (problem with xlc/xlf?) -->
<!--X-From-R13: QI Khna <tybonyenirNlnubb.pbz> -->
<!--X-Date: Thu, 09 Mar 2006 14:15:08 &#45;0800 (PST) -->
<!--X-Message-Id: 20060309221336.38897.qmail@web30810.mail.mud.yahoo.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4410A039.9070303@llnl.gov -->
<!--X-Head-End-->
<html>
<head>
<title>Re: [sundials-users] Sundials compilation error (problem with xlc/xlf?)</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00363.html">Date Prev</a>] [<a href="msg00365.html">Date Next</a>] [<a href="msg00363.html">Thread Prev</a>] [<a href="msg00365.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00364">Date Index</a></b>]
[<b><a href="threads.html#00364">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sundials-users] Sundials compilation error (problem with xlc/xlf?)</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
CW Yuan &lt;<a href="mailto:globalrave%40yahoo.com">globalrave@yahoo.com</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Thu, 09 Mar 2006 14:13:36 -0800 (PST)</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hello,

First of all, sorry to everyone on this list for
flooding your inbox, and thanks for this swift reply. 
Unfortunately, both machines I've tried recently
(whether my workstation or the Athlon cluster) are
32-bit systems.  Both of the have the Portland group
compilers installed though.

Ultimately, I'd still like to install CVODE on the
64-bit powerpc cluster because that one is such a
sweet  mechine.  But that one only has xlc/xlf and
gcc/g77 installed.  I've already tried it with the
xlc/xlf compilers with -q64 flag, but to no avail. 
The example runs still exit with the -4 flag just like
in the installation without the -q64 flag, and on top
of that, I couldn't even create the fcmix examples
because libsundials_fcvode.a wasn't found.  All in
all, this powerpc 64-bit machine has been painstaking
and tantalizing......



CW


--- Radu Serban &lt;serban1@llnl.gov&gt; wrote:

&gt;<i> Hi CW,</i>
&gt;<i> </i>
&gt;<i> The results and statistics that you obtain for the C</i>
&gt;<i> examples, both serial and parallel, are fine. When</i>
&gt;<i> compared with the sample outputs </i>
&gt;<i> provided with SUNDIALS, the differences in solutions</i>
&gt;<i> are within tolerances and you can always expect</i>
&gt;<i> variations like the ones you see in the </i>
&gt;<i> final statistics.</i>
&gt;<i> </i>
&gt;<i> As to the Fortran examples, you are now the second</i>
&gt;<i> one to report that the reported solution is not</i>
&gt;<i> updated. Christos Frouzakis obtained the </i>
&gt;<i> exact same thing on an Opteron machine. I have built</i>
&gt;<i> SUNDIALS before on AMD processors, but never on a</i>
&gt;<i> 64-bit AMD processor (Opteron or </i>
&gt;<i> Athlon).</i>
&gt;<i> </i>
&gt;<i> I have a feeling yours is a 64-bit box also, isn't</i>
&gt;<i> it? If so, you should (as I suggested to Christos)</i>
&gt;<i> read carefully the g77 manpage to see </i>
&gt;<i> what flags are needed to mix Fortran and C. Also,</i>
&gt;<i> you may need to modify the Fortran examples to</i>
&gt;<i> ensure that the sizes of various types </i>
&gt;<i> agree with what the C libraries expect. As I've</i>
&gt;<i> already mentioned to Christos, a Google search shows</i>
&gt;<i> issues related to g77 not generating </i>
&gt;<i> integers 8-byte long by default (and not having the</i>
&gt;<i> -i8 option either). I strongly suspect this is</i>
&gt;<i> what's going on here.</i>
&gt;<i> </i>
&gt;<i> I do not have acces to such a machine to try it</i>
&gt;<i> myself, but I'd try to force 32-bit mode and see if</i>
&gt;<i> that works (-m32 compiler switch to gcc </i>
&gt;<i> and g77 I suppose).</i>
&gt;<i> </i>
&gt;<i> Also, if you have access to PGI compilers, try using</i>
&gt;<i> those as pgf77 does provide the -i8 option.</i>
&gt;<i> </i>
&gt;<i> Botom line is that these issues are difficult to</i>
&gt;<i> resolve remotely. The very first thing that you</i>
&gt;<i> should do is write and test a very simple </i>
&gt;<i> mixed Fortran-C program.</i>
&gt;<i> </i>
&gt;<i> --Radu</i>
&gt;<i> </i>
&gt;<i> CW Yuan wrote:</i>
&gt;<i> &gt; Hello all,</i>
&gt;<i> &gt; </i>
&gt;<i> &gt; It's me, the can't-even-install-right guy again. </i>
&gt;<i> Now</i>
&gt;<i> &gt; I've installed CVODE on a private cluster (with</i>
&gt;<i> mpich)</i>
&gt;<i> &gt; </i>
&gt;<i> &gt; computer: i686 athlon</i>
&gt;<i> &gt; compiler: gcc version 2.95.4 20011002 (Debian</i>
&gt;<i> &gt; prerelease).  g77 compiled with gcc.</i>
&gt;<i> &gt; configure: shown in the attached file.</i>
&gt;<i> &gt;  </i>
&gt;<i> &gt; The compilation went without error/warning.  The</i>
&gt;<i> &gt; gcc-compiled serial/parallel codes show results</i>
&gt;<i> that</i>
&gt;<i> &gt; I'm not sure are acceptable.  The fcmix serial</i>
&gt;<i> test</i>
&gt;<i> &gt; results still show the same bizzaro-output as</i>
&gt;<i> those in</i>
&gt;<i> &gt; my workstation, while running the parallel fcmix</i>
&gt;<i> &gt; examples (pvdiagkf pvdiagnf pvdiagkbf) simply</i>
&gt;<i> render</i>
&gt;<i> &gt; the following:</i>
&gt;<i> &gt; &quot;MAIN__ called -- missing g77-compiled main</i>
&gt;<i> program</i>
&gt;<i> &gt; MAIN__ called -- missing g77-compiled main program</i>
&gt;<i> &gt; MAIN__ called -- missing g77-compiled main program</i>
&gt;<i> &gt; MAIN__ called -- missing g77-compiled main</i>
&gt;<i> program&quot;</i>
&gt;<i> &gt; </i>
&gt;<i> &gt; This is killing me.........</i>
&gt;<i> &gt; </i>
&gt;<i> &gt; </i>
&gt;<i> &gt; </i>
&gt;<i> &gt; CW</i>
&gt;<i> &gt; </i>
&gt;<i> &gt; </i>
&gt;<i> &gt; __________________________________________________</i>
&gt;<i> &gt; Do You Yahoo!?</i>
&gt;<i> &gt; Tired of spam?  Yahoo! Mail has the best spam</i>
&gt;<i> protection around </i>
&gt;<i> &gt; <a  href="http://mail.yahoo.com">http://mail.yahoo.com</a> </i>
&gt;<i> &gt; </i>
&gt;<i> &gt; </i>
&gt;<i> &gt;</i>
&gt;<i></i>
------------------------------------------------------------------------
&gt;<i> &gt; </i>
&gt;<i> &gt; </i>
&gt;<i> &gt; ---------------------------------</i>
&gt;<i> &gt; Running SUNDIALS Configure Script</i>
&gt;<i> &gt; ---------------------------------</i>
&gt;<i> &gt; </i>
&gt;<i> &gt; checking build system type... i686-pc-linux-gnu</i>
&gt;<i> &gt; checking host system type... i686-pc-linux-gnu</i>
&gt;<i> &gt; checking whether make sets $(MAKE)... yes</i>
&gt;<i> &gt; checking for a BSD-compatible install...</i>
&gt;<i> /usr/bin/install -c</i>
&gt;<i> &gt; checking for egrep... grep -E</i>
&gt;<i> &gt; checking for sys/types.h... no</i>
&gt;<i> &gt; checking for sys/stat.h... no</i>
&gt;<i> &gt; checking for stdlib.h... no</i>
&gt;<i> &gt; checking for string.h... no</i>
&gt;<i> &gt; checking for memory.h... no</i>
&gt;<i> &gt; checking for strings.h... no</i>
&gt;<i> &gt; checking for inttypes.h... no</i>
&gt;<i> &gt; checking for stdint.h... no</i>
&gt;<i> &gt; checking for unistd.h... no</i>
&gt;<i> &gt; checking floating-point data type to use... double</i>
&gt;<i> &gt; checking for cc... cc</i>
&gt;<i> &gt; checking for C compiler default output file</i>
&gt;<i> name... a.out</i>
&gt;<i> &gt; checking whether the C compiler works... yes</i>
&gt;<i> &gt; checking whether we are cross compiling... no</i>
&gt;<i> &gt; checking for suffix of executables... </i>
&gt;<i> &gt; checking for suffix of object files... o</i>
&gt;<i> &gt; checking whether we are using the GNU C</i>
&gt;<i> compiler... yes</i>
&gt;<i> &gt; checking whether cc accepts -g... yes</i>
&gt;<i> &gt; checking for cc option to accept ANSI C... none</i>
&gt;<i> needed</i>
&gt;<i> &gt; checking for cc... /usr/bin/cc</i>
&gt;<i> &gt; checking for extra C compiler flags... none</i>
&gt;<i> &gt; checking how to run the C preprocessor...</i>
&gt;<i> /usr/bin/cc -E</i>
&gt;<i> &gt; checking for extra C/C++ preprocessor flags...</i>
&gt;<i> none</i>
&gt;<i> &gt; checking for extra linker flags... none</i>
&gt;<i> &gt; checking for extra libraries...</i>
&gt;<i> -L/usr/pgi/linux86/5.1/lib -lpgftnrtl</i>
&gt;<i> &gt; checking for ANSI C header files... yes</i>
&gt;<i> &gt; checking for stdlib.h... (cached) no</i>
&gt;<i> &gt; checking float.h usability... yes</i>
&gt;<i> &gt; checking float.h presence... yes</i>
&gt;<i> &gt; checking for float.h... yes</i>
&gt;<i> &gt; checking math.h usability... yes</i>
&gt;<i> &gt; checking math.h presence... yes</i>
&gt;<i> &gt; checking for math.h... yes</i>
&gt;<i> &gt; checking for abs in -lm... yes</i>
&gt;<i> &gt; checking for fabs in -lm... yes</i>
&gt;<i> &gt; checking for pow in -lm... yes</i>
&gt;<i> &gt; checking for sqrt in -lm... yes</i>
&gt;<i> &gt; checking for additional required C libraries...</i>
&gt;<i> -lm </i>
&gt;<i> &gt; checking for int... yes</i>
&gt;<i> &gt; checking size of int... 4</i>
&gt;<i> &gt; checking for long int... yes</i>
&gt;<i> &gt; checking size of long int... 4</i>
&gt;<i> &gt; checking for double... yes</i>
&gt;<i> &gt; checking size of double... 8</i>
&gt;<i> &gt; checking for egrep... (cached) grep -E</i>
&gt;<i> &gt; checking for fgrep... grep -F</i>
&gt;<i> &gt; checking for f77... f77</i>
&gt;<i> &gt; checking whether we are using the GNU Fortran 77</i>
&gt;<i> compiler... yes</i>
&gt;<i> &gt; checking whether f77 accepts -g... yes</i>
&gt;<i> &gt; checking for f77... /usr/bin/f77</i>
&gt;<i> &gt; checking for extra Fortran compiler flags... none</i>
&gt;<i> &gt; checking how to get verbose linking output from</i>
&gt;<i> /usr/bin/f77... -v</i>
&gt;<i> &gt; checking for Fortran libraries of /usr/bin/f77... </i>
&gt;<i> -L/usr/pgi/linux86/5.1/lib</i>
&gt;<i> -L/usr/lib/gcc-lib/i386-linux/2.95.4 -lg2c -lm</i>
&gt;<i> -lpgftnrtl</i>
&gt;<i> &gt; checking Fortran name-mangling scheme... lowercase</i>
&gt;<i> with one underscore</i>
&gt;<i> &gt; checking for ld used by GCC... /usr/bin/ld</i>
&gt;<i> &gt; checking if the linker (/usr/bin/ld) is GNU ld...</i>
&gt;<i> yes</i>
&gt;<i> &gt; checking for /usr/bin/ld option to reload object</i>
&gt;<i> files... -r</i>
&gt;<i> &gt; checking for BSD-compatible nm... /usr/bin/nm -B</i>
&gt;<i> &gt; checking for a sed that does not truncate</i>
&gt;<i> output... /bin/sed</i>
&gt;<i> &gt; checking whether ln -s works... yes</i>
&gt;<i> &gt; checking how to recognise dependent libraries...</i>
&gt;<i> pass_all</i>
&gt;<i> &gt; checking command to parse /usr/bin/nm -B output...</i>
&gt;<i> ok</i>
&gt;<i> &gt; checking dlfcn.h usability... yes</i>
&gt;<i> &gt; checking dlfcn.h presence... yes</i>
&gt;<i> &gt; checking for dlfcn.h... yes</i>
&gt;<i> &gt; checking for ranlib... ranlib</i>
&gt;<i> &gt; checking for strip... strip</i>
&gt;<i> &gt; checking for objdir... .libs</i>
&gt;<i> &gt; checking for /usr/bin/cc option to produce PIC...</i>
&gt;<i> -fPIC</i>
&gt;<i> &gt; checking if /usr/bin/cc PIC flag -fPIC works...</i>
&gt;<i> yes</i>
&gt;<i> &gt; checking if /usr/bin/cc static flag -static</i>
&gt;<i> works... yes</i>
&gt;<i> &gt; checking if /usr/bin/cc supports -c -o file.o...</i>
&gt;<i> yes</i>
&gt;<i> &gt; checking if /usr/bin/cc supports -c -o file.lo...</i>
&gt;<i> yes</i>
&gt;<i> </i>
=== message truncated ===


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
<a  href="http://mail.yahoo.com">http://mail.yahoo.com</a> 

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00363" href="msg00363.html">Re: [sundials-users] Sundials compilation error (problem with xlc/xlf?)</a></strong>
<ul><li><em>From:</em> Radu Serban &lt;serban1@llnl.gov&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00363.html">Re: [sundials-users] Sundials compilation error (problem with xlc/xlf?)</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00365.html">RE: [sundials-users] Sundials compilation error (problem with xlc/xlf?)</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00363.html">Re: [sundials-users] Sundials compilation error (problem with xlc/xlf?)</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00365.html">RE: [sundials-users] Sundials compilation error (problem with xlc/xlf?)</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00364">
<strong>Main</strong></a></li>
<li><a href="threads.html#00364">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
