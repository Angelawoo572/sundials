<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: not able to include absoft fortran support -->
<!--X-From-R13: Dnqh Ereona <freona1Nyyay.tbi> -->
<!--X-Date: Fri, 14 Oct 2005 12:27:31 &#45;0700 (PDT) -->
<!--X-Message-Id: 4350057E.3030407@llnl.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: ba4975150510131502r30d42b13j4a17b20d768764ef@mail.gmail.com -->
<!--X-Reference: 434EE25A.5080601@llnl.gov -->
<!--X-Reference: ba4975150510131729g48ac8f15t8e7b62bc2a9a8d58@mail.gmail.com -->
<!--X-Reference: 434FFB9E.9020904@llnl.gov -->
<!--X-Head-End-->
<html>
<head>
<title>Re: not able to include absoft fortran support</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00141.html">Date Prev</a>] [<a href="msg00143.html">Date Next</a>] [<a href="msg00138.html">Thread Prev</a>] [<a href="msg00143.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00142">Date Index</a></b>]
[<b><a href="threads.html#00142">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: not able to include absoft fortran support</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
Radu Serban &lt;<a href="mailto:serban1%40llnl.gov">serban1@llnl.gov</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Fri, 14 Oct 2005 12:22:38 -0700</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">To be on the safe side, I suggest you specify the path to the Absoft libraries 
on the configure line:
% configure ...  --with-ldflags=-Lpath_to_absoft_libs ...
unless it's already in your LD_LIBRARY_PATH environment variable.</pre><br>
<pre style="margin: 0em;">--Radu</pre><br>
<tt>Radu Serban wrote:
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">Raju,</pre><br>
<tt>We'll try to add some more explanations in the installation section of 
the user guides...</tt><br>
<br>
<tt>The warning that you get may or may not be harmless. The only way to 
decide is by trying to compile the Fortran examples (but it seems there 
is another problem with that -- I'll get to that in a reply to your 
other message).</tt><br>
<br>
<tt>The configure script needs to find how to get verbose output from the 
compiler in order to subsequently parse such output and extract the 
Fortran linker flags. As you can see, since it wasn't able to do that, 
it ends up with FLIBS being only &quot;-lm&quot;. That may or may not be enough.</tt><br>
<br>
<tt>As I told you before, I haven't used the Absoft Fortran compiler before. 
But I found out we do have a version of it installed here (pro8.0 -- 
older that what you use I guess). I tried to configure SUNDIALS using 
their f90 compiler (and gcc) and everything worked just fine using just<br>
% configure F77=f90 --with-ldflags=-L/usr/apps/Absoft/pro8.0/lib<br>
configure found the name-mangling scheme (uppercase with no underscores) 
and how to get verbose output (-v) all by itself. Also (and this is 
relevant to your other issue) it realized that this is NOT the GNU 
Fortran 77 compiler!</tt><br>
<br>
<tt>To see exactly what is going on, look into the config.log file and see 
exactly what test program fails (search for 'failed program was:')</tt><br>
<br>
<pre style="margin: 0em;">--Radu</pre><br>
<pre style="margin: 0em;">Kamaraju Kusumanchi wrote:</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">On 10/13/05, Radu Serban &lt;serban1@llnl.gov&gt; wrote:</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>The configure script was not able to determine the name-mangling 
scheme (in order to call a Fortran subroutine from C,<br>
we first need to decide what we name that Fortran subroutine so that 
we can refer to it from C).</tt><br>
<br>
</blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">Thanks for the reply.</pre><br>
<pre style="margin: 0em;">Actually the manual does not explain what this name-mangling scheme
actually means. It gives the options --with-f77case
--with-f77underscore but it does not tell why they would be useful. I
still dont understand what this name-mangling scheme is. But anyway
your reply was comprehensive enough to make some progress. I still
have some questions.</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>Try first to add one or both flags to f90:<br>
% configure --with-fflags=-B108 ....<br>
or<br>
% configure --with-fflags=&quot;-B108 -YEXT_NAMES=LCS&quot; ....<br>
and see if configure will be able to find the name-mangling scheme by 
itself.</tt><br>
<br>
<tt>If this does not work, try<br>
% configure --with-fflags=&quot;-B108 -YEXT_NAMES=LCS&quot; 
--with-f77underscore=one --with-f77case=lower ....<br>
or<br>
% configure --with-fflags=-B108 --with-f77underscore=one 
--with-f77case=upper ....</tt><br>
<br>
</blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">I tried the following, based on your suggestions.</pre><br>
<pre style="margin: 0em;">/home/software/compileHere/sundials/configure CC=gcc F77=f90
--with-cflags=-O2 --with-fflags=-B108 --disable-mpi 2&gt;&amp;1 | tee
configure.log</pre><br>
<pre style="margin: 0em;">/home/software/compileHere/sundials/configure CC=gcc F77=f90
--with-cflags=-O2 --with-fflags=&quot;-B108 -YEXT-NAMES=LCS&quot; --disable-mpi
2&gt;&amp;1 | tee configure.log</pre><br>
<pre style="margin: 0em;">Both the above commands result in the same name-mangling error. Then I
tried this</pre><br>
<pre style="margin: 0em;"><br>/home/software/compileHere/sundials/configure CC=gcc F77=f90
--with-cflags=-O2 --with-fflags=&quot;-B108 -YEXT-NAMES=LCS&quot;
--with-f77underscore=one --with-f77case=lower --disable-mpi 2&gt;&amp;1 | tee
configure.log</pre><br>
<pre style="margin: 0em;">I attached the configure.log of the above command. This command does
not give any name-mangling error. But it gives the following warning.</pre><br>
<pre style="margin: 0em;"><br>checking for f90... /opt/absoft/bin/f90
checking for extra Fortran compiler flags... -B108 -YEXT-NAMES=LCS
checking how to get verbose linking output from /opt/absoft/bin/f90...
configure: WARNING: compilation failed</pre><br>
<pre style="margin: 0em;">checking for Fortran libraries of /opt/absoft/bin/f90...
checking for ld used by GCC... /usr/bin/ld</pre><br>
<pre style="margin: 0em;"><br>How can I get rid of this warning? or this warning harmless and should
I proceed with make etc.,?</pre><br>
<pre style="margin: 0em;">thanks
raju
</pre></blockquote><pre style="margin: 0em;"><br></pre><br>
<br>
</blockquote><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00143" href="msg00143.html">Re: not able to include absoft fortran support</a></strong>
<ul><li><em>From:</em> Kamaraju Kusumanchi &lt;kamaraju@gmail.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00126" href="msg00126.html">not able to include absoft fortran support</a></strong>
<ul><li><em>From:</em> Kamaraju Kusumanchi &lt;kamaraju@gmail.com&gt;</li></ul></li>
<li><strong><a name="00127" href="msg00127.html">Re: not able to include absoft fortran support</a></strong>
<ul><li><em>From:</em> Radu Serban &lt;serban1@llnl.gov&gt;</li></ul></li>
<li><strong><a name="00129" href="msg00129.html">Re: not able to include absoft fortran support</a></strong>
<ul><li><em>From:</em> Kamaraju Kusumanchi &lt;kamaraju@gmail.com&gt;</li></ul></li>
<li><strong><a name="00138" href="msg00138.html">Re: not able to include absoft fortran support</a></strong>
<ul><li><em>From:</em> Radu Serban &lt;serban1@llnl.gov&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00141.html">Re: configure script is not recognizing many files</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00143.html">Re: not able to include absoft fortran support</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00138.html">Re: not able to include absoft fortran support</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00143.html">Re: not able to include absoft fortran support</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00142">
<strong>Main</strong></a></li>
<li><a href="threads.html#00142">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
