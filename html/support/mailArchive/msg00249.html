<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: Building SUNDIALS/CVODE on Windows -->
<!--X-From-R13: Dnqh Ereona <freona1Nyyay.tbi> -->
<!--X-Date: Tue, 24 Jan 2006 17:19:59 &#45;0800 (PST) -->
<!--X-Message-Id: 43D6D0AD.2040507@llnl.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 001a01c62133$350904b0$0a01a8c0@pcheartbreak -->
<!--X-Head-End-->
<html>
<head>
<title>Re: Building SUNDIALS/CVODE on Windows</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00248.html">Date Prev</a>] [<a href="msg00250.html">Date Next</a>] [<a href="msg00248.html">Thread Prev</a>] [<a href="msg00253.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00249">Date Index</a></b>]
[<b><a href="threads.html#00249">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Building SUNDIALS/CVODE on Windows</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
Radu Serban &lt;<a href="mailto:serban1%40llnl.gov">serban1@llnl.gov</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Tue, 24 Jan 2006 17:13:17 -0800</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Alan Garny wrote:
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">Alan Garny wrote:</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em">
Most important, though, may be a compiler directive that 
enables/disables output (i.e. the &quot;fprintf&quot; statements).
</blockquote>
<br>What is the problem with the fprintf statements? Note that:<br>
1) A message is printed ONLY if an error occurred.<br>
2) Even then, you can disable 99% of them by redirecting 
output to a 'NULL' file.<br>
   In CVODE/CVODES for example, use<br>
     CVodeSetErrFile(cvode_mem, NULL);<br>
   right after CVodeCreate(). This will disable all future 
error message output<br>
   (unless the solver memory is NULL in some function).<br>
3) Or else you can use CVodeSetErrFile to redirect all output 
to some temporary file.
</blockquote></blockquote><pre style="margin: 0em;"><br>Hi Alan,</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">Argh, I obviously overlooked CVodeSetErrFile... I, however, just had a quick
look back at the source code and noticed that there is a fair number of
calls to &quot;fprintf&quot; with &quot;stderr&quot;, so that wouldn't solve my problem. The
problem is that my application is a pure Windows one and not a console
application, so there is no easy way for me to allow COVDE to output errors
to &quot;stderr&quot; or elsewhere.
</pre></blockquote>
<br>If CVodeSetErrFile is called as soon as possible (i.e. right after CVodeCreate) then the only error 
messages that are sent to stderr are those from CVodeCreate (indicating an illegal input or a memory 
allocation failure) and those indicating that the cvode memory is NULL (i.e. a CVODE function is 
called before CVodeCreate).<br>
<br>
(Note: in the current release there are a few places where fprintf unnecessarily uses stderr, but 
these have been fixed for the next release).<br>
<br>
My point is that such errors are quite unlikely with a minimum of carefulness and so all meaningful 
error messages can actually be redirected or disabled with CVodeSetErrFile.<br>
<br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em">
So, to have that compiler directive I mentioned earlier would be very nice<br>
indeed (for me at least... :)). Also, you return an error code and that<br>
ought to suffice. 
</blockquote><pre style="margin: 0em;"><br>If only all users would test the error return flag after each call to a 
CVODE function :-)</pre><br>
Adding a compiler directive to suppress output could lead to problems for users that use the 
SUNDIALS libraries installed by someone else.<br>
<br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em">
One could, in fact, have a function that would return the<br>
error message (based on the error code), if required. 
</blockquote>
<br>I can see at least two reasons why this is not advisable:<br>
1) To keep the number of error codes to a minimum, the same one may be used for different situations 
(e.g. CV_ILL_INPUT) which are differentiated only through the error message.<br>
2) Some error messages also print various quantities (the current time, step size) which are context 
dependent and would be difficult to pass to such a function.<br>
<br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">Personally, I would very much welcome such a function, as I had to go through 
all the important
bits of the library to extract the error messages that could potentially
help me debug my application, should CVODE fail to integrate one of my
systems of ODEs.
</pre></blockquote><pre style="margin: 0em;"><br>All CVODE constants (including error codes) are listed in Chapter 9 of the 
user guide.</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em">
	Alan.
</blockquote><pre style="margin: 0em;"><br>--Radu</pre><br>
<pre style="margin: 0em;"><br></pre><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00253" href="msg00253.html">RE: Building SUNDIALS/CVODE on Windows</a></strong>
<ul><li><em>From:</em> Alan Garny &lt;agml@hellix.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00248" href="msg00248.html">RE: Building SUNDIALS/CVODE on Windows</a></strong>
<ul><li><em>From:</em> Alan Garny &lt;agml@hellix.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00248.html">RE: Building SUNDIALS/CVODE on Windows</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00250.html">RE: Building SUNDIALS/CVODE on Windows</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00248.html">RE: Building SUNDIALS/CVODE on Windows</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00253.html">RE: Building SUNDIALS/CVODE on Windows</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00249">
<strong>Main</strong></a></li>
<li><a href="threads.html#00249">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
