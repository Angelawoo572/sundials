<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: User access to c_j? -->
<!--X-From-R13: Yriva Zbat <xeybatNfnaqvn.tbi> -->
<!--X-Date: Mon, 12 Dec 2005 16:21:25 &#45;0800 (PST) -->
<!--X-Message-Id: 200512121616.18563.krlong@sandia.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 200512091644.04891.krlong@sandia.gov -->
<!--X-Reference: 200512110127.34017.krlong@sandia.gov -->
<!--X-Reference: Pine.LNX.4.58.0512121523120.30267@tux64.llnl.gov -->
<!--X-Head-End-->
<html>
<head>
<title>Re: User access to c_j?</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00198.html">Date Prev</a>] [<a href="msg00200.html">Date Next</a>] [<a href="msg00198.html">Thread Prev</a>] [<a href="msg00204.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00199">Date Index</a></b>]
[<b><a href="threads.html#00199">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: User access to c_j?</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
Kevin Long &lt;<a href="mailto:krlong%40sandia.gov">krlong@sandia.gov</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Mon, 12 Dec 2005 16:16:18 -0800</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Hi Alan,

Thanks for the reply. Comments below.

- kevin

On Monday 12 December 2005 15:29, Alan Hindmarsh wrote:
&gt;<i></i>
&gt;<i> The solution that makes the most sense is (2): adding user-callable</i>
&gt;<i> access routines to get c_j and tn from memory.  But if you are writing</i>
&gt;<i> lsetup and lsolve routines that will not use ida_mem at all, you</i>
&gt;<i> should check for other variables in ida_mem that you may need to use</i>
&gt;<i> there.  For example, our lsetup and solve routines use counters</i>
&gt;<i> (e.g. npe) that reside in ida_mem.</i>

It occurred to me later that a very simple solution would be for me to package 
a copy of ida_impl.h with my solver interface code. Since ida_impl.h contains 
only structure definitions and macros, there will be no problem with multiple 
definitions or conflicts (provided, of course, that I'm careful to maintain a 
*completely* identical declaration of IDAMemRec!). 

That appears to be allowed under your license, provided that I include the 
contents of the LICENSE file in a comment at the top of my local copy of 
ida_impl.h. Please do let me know if there's some reason I shouldn't package 
a copy ida_impl.h with my adaptors.

If it's OK with you for me to do that, then this seems like a good 
intermediate term solution. 

&gt;<i></i>
&gt;<i> &gt; Surely I'm not the first person to try writing an interface to an</i>
&gt;<i> &gt; external solver?</i>
&gt;<i></i>
&gt;<i> No you are not.  But you seem to be the first that wants to put the whole</i>
&gt;<i> linear solver module in a separate place, not residing with SUNDIALS.</i>

Leave it to me to be the oddball hard case :-) 

&gt;<i> Our intention was that new linear solver modules would at least have</i>
&gt;<i> their interface functions (lsetup, lsolve, etc.) reside in SUNDIALS, where</i>
&gt;<i> they could access the main memory.</i>

It probably makes more sense to have modules such as mine, which depend 
heavily on large external codes such as Trilinos, live outside of SUNDIALS. 
Otherwise the SUNDIALS configure system would need to have some support for 
setting Trilinos configuration options, which you probably don't want to do. 

Incidentally, Mike Heroux, the Trilinos project leader, is thinking about ways 
to improve package interoperability at the configuration level; if he's 
successful in finding a better way to integrate configuration processes 
between different packages then it wouldn't matter whether the 
SUNDIALS-Trilinos adaptors lived in SUNDIALS or Trilinos. For now, though, it 
seems simpler for me to have the adaptors live in Trilinos.

Thanks again,

- kevin







-- 
-----------------------------------------------------------------------------
        Dr. Kevin Long
        Computational Science and Mathematics Research Department 
        Sandia National Laboratories          

        MS 9217                               krlong@ca.sandia.gov
        Livermore, CA 94551                   (925)-294-4910
-----------------------------------------------------------------------------

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00204" href="msg00204.html">Re: User access to c_j?</a></strong>
<ul><li><em>From:</em> Alan Hindmarsh &lt;alanh@llnl.gov&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00192" href="msg00192.html">N_Vector &amp; solver module unit test suite?</a></strong>
<ul><li><em>From:</em> Kevin Long &lt;krlong@sandia.gov&gt;</li></ul></li>
<li><strong><a name="00193" href="msg00193.html">User access to c_j?</a></strong>
<ul><li><em>From:</em> Kevin Long &lt;krlong@sandia.gov&gt;</li></ul></li>
<li><strong><a name="00198" href="msg00198.html">Re: User access to c_j?</a></strong>
<ul><li><em>From:</em> Alan Hindmarsh &lt;alanh@llnl.gov&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00198.html">Re: User access to c_j?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00200.html">Difficulty building sundials on windows</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00198.html">Re: User access to c_j?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00204.html">Re: User access to c_j?</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00199">
<strong>Main</strong></a></li>
<li><a href="threads.html#00199">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
