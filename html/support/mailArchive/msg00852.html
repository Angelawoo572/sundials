<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [sundials&#45;users] CMake build system for SUNDIALS &#45; Intel Compiler -->
<!--X-From-R13: "Oaqernf @vpbynv" <Oaqernf.@vpbynvNtzk.arg> -->
<!--X-Date: Tue, 30 Jan 2007 12:14:43 &#45;0800 -->
<!--X-Message-Id: op.tmzg2errt8lo91@smtp.kuleuven.ac.be -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 45BE49A6.1020900@llnl.gov -->
<!--X-Reference: op.tmy7v1fnt8lo91@smtp.kuleuven.ac.be -->
<!--X-Reference: 4251B222E06F43FF82CBC457ED7E9271@PCHEARTBREAK -->
<!--X-Derived: gzxRARpvflax.gz -->
<!--X-Head-End-->
<html>
<head>
<title>Re: [sundials-users] CMake build system for SUNDIALS - Intel Compiler</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00851.html">Date Prev</a>] [<a href="msg00853.html">Date Next</a>] [<a href="msg00851.html">Thread Prev</a>] [<a href="msg00855.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00852">Date Index</a></b>]
[<b><a href="threads.html#00852">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sundials-users] CMake build system for SUNDIALS - Intel Compiler</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
&quot;Andreas Nicolai&quot; &lt;<a href="mailto:Andreas.Nicolai%40gmx.net">Andreas.Nicolai@gmx.net</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Tue, 30 Jan 2007 15:12:04 -0500</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi Alan,

&gt;<i> Just out of interest, which compiler provides the best results (in terms of</i>
&gt;<i> computational speed) out of the four that you have at hand? I would think</i>
&gt;<i> the Intel compiler, but I was wondering whether you coud give us some</i>
&gt;<i> figures (in private, if necessary)?... :)</i>

I'm working on it, as part of my diss... so in a little while I have some 
detailed results :-)

Problem is, that my desktop machine and laptop are both AMD powered (because 
AMD cores seem at the moment still a bit faster than the Intel counterparts, 
when simply comparing the number-crunching speed). So the Intel compiler 
extensions (particularly the math lib) will not really help here.

The Borland compiler creates code that is way slower than the others. This is 
unfortunately true for BCB5, BCB6 and the new Borland Developer Studio 2006. 
The provided C/C++ lib implementations are just much slower and the only reason 
why I keep using BCB is because its VCL library for graphical user interfaces 
is way better/faster than .Net WinForms or MFC.

Anyway, here's the result of a quick comparison on my machine for a fairly 
demanding benchmark (forces variations in time step from 1e-4 to 3000), see 
attached chart to get an impression of how badly I treat the solver :-). And, 
btw, that is a somewhat exagerated real-world problem from building physics 
(driving rain on a brick wall).


RelTol = 1e-5, AbsTol = 1e-5

mingw32-gcc 3.4.4
------------------
SimTime:   7.468 s

Final stats:
Steps    RhsEvals   JacEvals   NNiters    NNfails
14795    20169      468        20168      42


vc 8 (14.00.50727)
------------------
SimTime:   7.718 s

Final stats:
Steps    RhsEvals   JacEvals   NNiters    NNfails
15256    20609      471        20608      43


ic 9.1.034
------------------
SimTime:   9.515 s

Final stats:
Steps    RhsEvals   JacEvals   NNiters    NNfails
14969    20447      459        20446      40


The differences in the final results come from rounding errors or differences 
in implementations of math functions. For any somewhat complex problem, getting 
exactly the same stats for different compilers is IMHO impossible.

Also mind that those results have been obtained with just the standard /03 
optimization settings. I didn't use any of the specialities that the compilers 
offer (e.g. specific optimizations for a particular processor).

Btw, running the same benchmark on my machine with gcc on SuSE linux 10.1 
results in about 10% shorter execution time (however, the stats look somewhat 
favorable for the linux run, meaning less NNfails and JacEvals).

Bye,
Andreas

-- 
Andreas Nicolai                         anicolai@syr.edu
PhD Candidate, M.A.M.E                  (315) 443-2641
Syracuse University
151 Link Hall
Syracuse, NY, 13244</pre><p><strong>Attachment:
<a href="gzxRARpvflax.gz" ><tt>benchmark.gif.gz</tt></a></strong><br>
<em>Description:</em> GNU Zip compressed data</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00855" href="msg00855.html">RE: [sundials-users] CMake build system for SUNDIALS - Intel Compiler</a></strong>
<ul><li><em>From:</em> &quot;Alan Garny&quot; &lt;agml@hellix.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00842" href="msg00842.html">[sundials-users] CMake build system for SUNDIALS</a></strong>
<ul><li><em>From:</em> Radu Serban &lt;radu@llnl.gov&gt;</li></ul></li>
<li><strong><a name="00849" href="msg00849.html">[sundials-users] CMake build system for SUNDIALS - Intel Compiler</a></strong>
<ul><li><em>From:</em> &quot;Andreas Nicolai&quot; &lt;Andreas.Nicolai@gmx.net&gt;</li></ul></li>
<li><strong><a name="00851" href="msg00851.html">RE: [sundials-users] CMake build system for SUNDIALS - Intel Compiler</a></strong>
<ul><li><em>From:</em> &quot;Alan Garny&quot; &lt;agml@hellix.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00851.html">RE: [sundials-users] CMake build system for SUNDIALS - Intel Compiler</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00853.html">Re: [sundials-users] CMake build system for SUNDIALS - Intel Compiler</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00851.html">RE: [sundials-users] CMake build system for SUNDIALS - Intel Compiler</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00855.html">RE: [sundials-users] CMake build system for SUNDIALS - Intel Compiler</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00852">
<strong>Main</strong></a></li>
<li><a href="threads.html#00852">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
