<!-- MHonArc v2.6.10 -->
<!--X-Subject: [sundials&#45;users] CMake build system for SUNDIALS -->
<!--X-From-R13: Dnqh Ereona <enqhNyyay.tbi> -->
<!--X-Date: Mon, 29 Jan 2007 11:26:29 &#45;0800 -->
<!--X-Message-Id: 45BE49A6.1020900@llnl.gov -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Derived: tartxTbpaOAlx.tar -->
<!--X-Head-End-->
<html>
<head>
<title>[sundials-users] CMake build system for SUNDIALS</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00841.html">Date Prev</a>] [<a href="msg00843.html">Date Next</a>] [<a href="msg00813.html">Thread Prev</a>] [<a href="msg00843.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00842">Date Index</a></b>]
[<b><a href="threads.html#00842">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[sundials-users] CMake build system for SUNDIALS</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
Radu Serban &lt;<a href="mailto:radu%40llnl.gov">radu@llnl.gov</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Mon, 29 Jan 2007 11:23:18 -0800</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hello,</pre><br>
<tt>I thought that learning cmake would be a fun weekend project :-)  I was 
(pleasantly) surprised to find that it was possible to create a build system for 
SUNDIALS which is almost as comprehensive as the autotools-based one.</tt><br>
<br>
<tt>The attached tarball (sun_cmake.tar.gz) contains the necessary cmake 
configuration files. It must be copied and expanded in the top level SUNDIALS 
source directory (note that if you have not downloaded the entire suite but only 
one solver you may want to expand this tarball in a separate directory and copy 
the relevant cmake configuration files in their appropriate locations in the 
SUNDIALS source tree.)</tt><br>
<br>
<tt>For a tutorial on how to use cmake to configure and build sundials, see Andreas 
Nicolai's webpage at<br>
<a  href="http://www.bauklimatik-dresden.de/privat/nicolai/html/en/sundials_cmake.html">http://www.bauklimatik-dresden.de/privat/nicolai/html/en/sundials_cmake.html</a></tt><br>
<br>
<pre style="margin: 0em;">A few observations:</pre><br>
<tt>- Due to a bug in cmake (which also parses the comments in Fortran source 
files), some of the Fortran examples in SUNDIALS will not build unless they are 
slightly modified: you must remove all occurrences of &quot;use&quot; and &quot;module&quot; in 
comments. The affected files are fcvdenx.f, fcvkryx.f, fcvkryx_bp.f  (in 
examples/cvode/fcmix_serial) and fidadenx.f (in examples/ida/fcmix_serial)</tt><br>
<br>
<tt>- The installation of examples follows a new philosophy (which will be adopted 
in the next release also for the autotools-based build system): If examples are 
enabled by the user, &quot;make&quot; will build all pertinent examples together with the 
SUNDIALS libraries, but &quot;make install&quot; will export (in a subdirectory of the 
installation directory) the example sources and sample outputs together with 
automatically generated configuration files that reference the installed 
SUNDIALS headers and libraries (and which can therefore be used as &quot;templates&quot; 
for your own problems). The configure script will install makefiles. CMake 
installs CMakeLists.txt files and also (as an option available only under *NIX) 
makefiles.<br>
Note: the exported example makefiles are generated from templates (also included 
in the attached tarball).</tt><br>
<br>
<tt>- As with autotools, even if generation of shared libraries is enabled, only 
static libraries are created for the FCMIX modules (due to the use of fixed 
names for the Fortran user-provided subroutines, FCMIX shared libraries would 
result in &quot;undefined symbol&quot; errors at link time)</tt><br>
<br>
<tt>- I have only tested this under Linux so I'd appreciate any feedback on how it 
works on other platforms.</tt><br>
<br>
<tt><br>I hope that this will be useful, at least for those of you working under 
Windows. Even under Linux, the Curses interface to CMake (ccmake) has the appeal 
of allowing interactive configuration.</tt><br>
<br>
<pre style="margin: 0em;"><br>Regards,
--Radu
</pre><p><strong>Attachment:
<a href="tartxTbpaOAlx.tar" ><tt>sun_cmake.tar.gz</tt></a></strong><br>
<em>Description:</em> Unix tar archive</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00849" href="msg00849.html">[sundials-users] CMake build system for SUNDIALS - Intel Compiler</a></strong>
<ul><li><em>From:</em> &quot;Andreas Nicolai&quot; &lt;Andreas.Nicolai@gmx.net&gt;</li></ul></li>
<li><strong><a name="00848" href="msg00848.html">Re: [sundials-users] CMake build system for SUNDIALS</a></strong>
<ul><li><em>From:</em> &quot;Andreas Nicolai&quot; &lt;Andreas.Nicolai@gmx.net&gt;</li></ul></li>
<li><strong><a name="00844" href="msg00844.html">Antwort: [sundials-users] CMake build system for SUNDIALS</a></strong>
<ul><li><em>From:</em> rainer.sonnenschein@daimlerchrysler.com</li></ul></li>
<li><strong><a name="00843" href="msg00843.html">Re: [sundials-users] CMake build system for SUNDIALS</a></strong>
<ul><li><em>From:</em> &quot;Andreas Nicolai&quot; &lt;Andreas.Nicolai@gmx.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00841.html">Re: [sundials-users] Performance of  IDA under SundialsTB vs. Direct C-Code Implementation</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00843.html">Re: [sundials-users] CMake build system for SUNDIALS</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00813.html">[sundials-users] CMake build system for Sundials</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00843.html">Re: [sundials-users] CMake build system for SUNDIALS</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00842">
<strong>Main</strong></a></li>
<li><a href="threads.html#00842">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
