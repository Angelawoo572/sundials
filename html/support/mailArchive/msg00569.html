<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [sundials&#45;users] IDA under mex interface between SUNDIALS and MATLAB -->
<!--X-From-R13: Dnqh Ereona <enqhNyyay.tbi> -->
<!--X-Date: Thu, 06 Jul 2006 09:21:37 &#45;0700 -->
<!--X-Message-Id: 44AD381E.6080503@llnl.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 44AC7D16.9090309@rose&#45;hulman.edu -->
<!--X-Head-End-->
<html>
<head>
<title>Re: [sundials-users] IDA under mex interface between SUNDIALS and MATLAB</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00568.html">Date Prev</a>] [<a href="msg00570.html">Date Next</a>] [<a href="msg00571.html">Thread Prev</a>] [<a href="msg00572.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00569">Date Index</a></b>]
[<b><a href="threads.html#00569">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sundials-users] IDA under mex interface between SUNDIALS and MATLAB</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
Radu Serban &lt;<a href="mailto:radu%40llnl.gov">radu@llnl.gov</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Thu, 06 Jul 2006 09:19:42 -0700</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Hannes,</pre><br>
<tt>There seems to be some confusion regarding the SUNDIALS solvers and the MEX interfaces provided by the sundialsTB toolbox. I hope that the 
answers below will shed some light. For clarity, I wrote the SUNDIALS modules in caps (e.g. IDA) and the sundialsTB modules in lower case 
(e.g. cvodes).</tt><br>
<br>
<tt>Hannes Gruschinski wrote:
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">APPENDIX 0: QUESTIONS:</pre><br>
<tt>If these questions have already been answered in the mailing list 
archive please send me the link.</tt><br>
<br>
<tt>I installed SUNDIALS under cygwin by typing ./configure - make - make 
install - make examples - make clean. In the meantime I uninstalled 
cygwin and now work with mingw and msys.</tt><br>
<br>
<tt>I could run the examples by opening a windows command line prompt cmd, 
cd-ing to examples_ser, and executing one of the exe files.</tt><br>
<br>
<pre style="margin: 0em;">C:\SUNDIALS\sundials\ida\examples_ser&gt;idadenx.exe
idadenx: Robertson kinetics DAE serial example problem for IDA
        Three equation chemical kinetics problem.
...
Number of nonlinear conv. failures = 0
Number of root fn. evaluations     = 617</pre><br>
<tt>A) Is this THE way to run the examples??
</tt></blockquote><pre style="margin: 0em;"><br>Yes, this is the way to run the SUNDIALS examples.</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>How do I properly run the example files (under MATLAB)?
</tt></blockquote><tt><br>You cannot run these examples under Matlab (well, you could, using the 'system' function, but that is irrelevant). All SUNDIALS examples 
have the driver (main) function and any user-supplied functions (e.g. residual fct.) written in C (or Fortran). When a sundialsTB ida module 
will be available, the driver and user-supplied functions will be Matlab functions (see the cvodes and kinsol modules in sundialsTB). As 
such, all examples provided with sundialsTB are written (in Matlab) specifically for the toolbox (most of them are indeed translations from 
C to Matlab of existing SUNDIALS examples).</tt><br>
<br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>B) How can the actual solution vector can be extracted (under MATLAB)?
</tt></blockquote><pre style="margin: 0em;"><br>N/A</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>C) Other SUNDIALS users wrote they are using IDA and the SUNDIALS mex 
interface.</tt><br>
<br>
<tt>HOW? That is, how do I proceed in order to make the mex interface for 
SUNDIALS and MATLAB work? How do I run examples of IDA then?
</tt></blockquote><pre style="margin: 0em;"><br>Anyone using IDA with Matlab is NOT using the sundialsTB toolbox, but 
rather their own interface.</pre><br>
<tt>sundialsTB contains at this time two modules (cvodes and kinsol) each one providing a mex interface to the corresponding SUNDIALS solver. 
There is NO ida module in sundialsTB and, in any case, you couldn't run the examples which are part of SUNDIALS's IDA using the toolbox (see 
A above).</tt><br>
<br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>D) If someone already came up with a mex module for MATLAB that wraps 
around IDA, would he or she be willing to send it to the community?</tt><br>
<br>
<pre style="margin: 0em;">Thank you!</pre><br>
<pre style="margin: 0em;">APPENDIX 2: Radu's reply:</pre><br>
<pre style="margin: 0em;">Dr. Serban,</pre><br>
<tt>When do you anticipate to publish/distribute an IDA module for 
sundialsTB so that the usage of IDA will be convenient using MATLAB?</tt><br>
<br>
<pre style="margin: 0em;">Thanks.</pre><br>
<pre style="margin: 0em;">Hannes</pre><br>
<tt>Dear Hannes,<br>
I wrote (and maintain) the sundialsTB modules in my spare time and 
therefore cannot make any precise estimates on when an interface to IDA 
will be available. Moreover, to minimize duplication, I was 
contemplating writing such an interface only for the sensitivity-enabled 
IDAS solver (which is still in development) when this solver will be 
available.<br>
However, since you're not the only one expressing interest in an IDA 
Matlab module, I'll consider writing a preliminary idas module which, 
for now, will wrap around IDA. My summer looks pretty busy, but I hope 
to have something  in a couple of months...<br>
Regards,<br>
--Radu</tt><br>
<br>
<br>
</blockquote><tt><br>I take it that two months is more than you're willing to wait :-) Let me see what I can do. From the description of your problems, I suspect 
you'd be only using a dense linear solver, correct? Maybe I can put together an initial (stripped down) version of an ida module for 
sundialsTB sooner than that.</tt><br>
<br>
<pre style="margin: 0em;">--Radu</pre><br>
<pre style="margin: 0em;">--
   Radu Serban
   Center for Applied Scientific Computing   [email] radu@llnl.gov
   Lawrence Livermore National Laboratory    [phone] 925-424-4852
   P.O. Box 808, L-560                       [fax]   925-422-6287
   Livermore, CA 94551</pre><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00565" href="msg00565.html">[sundials-users] IDA under mex interface between SUNDIALS and MATLAB</a></strong>
<ul><li><em>From:</em> Hannes Gruschinski &lt;gruschh@rose-hulman.edu&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00568.html">Re: [sundials-users] Dependency of solver success from log interval?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00570.html">Re: [sundials-users] IDA under mex interface between SUNDIALS and MATLAB</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00571.html">RE: [sundials-users] IDA under mex interface between SUNDIALS and MATLAB</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00572.html">[sundials-users] SUNDIAL installation using mingw/msys: C compiler cannot create executables</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00569">
<strong>Main</strong></a></li>
<li><a href="threads.html#00569">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
