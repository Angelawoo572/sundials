<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [sundials&#45;users] The lighter side of SUNDIALS -->
<!--X-From-R13: Dnqh Ereona <enqhNyyay.tbi> -->
<!--X-Date: Tue, 13 Jun 2006 17:31:49 &#45;0700 -->
<!--X-Message-Id: 448F5817.2030407@llnl.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 44889F55.7050506@llnl.gov -->
<!--X-Reference: 448910E5.1010505@student.unsw.edu.au -->
<!--X-Reference: 4489E9DB.6020900@llnl.gov -->
<!--X-Reference: 448F4E17.2030501@student.unsw.edu.au -->
<!--X-Head-End-->
<html>
<head>
<title>Re: [sundials-users] The lighter side of SUNDIALS</title>
<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>
</head>
<!-- ******************************************************************************** -->
<body>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_mail_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>
  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0"></td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0"><br>
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0"></td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>
  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>
  <td width="720" bgcolor="#ffffff">
  <div id="content">   
<!-- Start content for this page -->
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<p class="links">
[<a href="msg00493.html">Date Prev</a>] [<a href="msg00495.html">Date Next</a>] [<a href="msg00493.html">Thread Prev</a>] [<a href="msg00495.html">Thread Next</a>]<br>
[<b><a href="maillist.html#00494">Date Index</a></b>]
[<b><a href="threads.html#00494">Thread Index</a></b>]
</p>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sundials-users] The lighter side of SUNDIALS</h1>
<div class="frame">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<table border=0 cellpadding=2 cellspacing=0>
<tr>
<td align="right"><b>
<em>From</em></b></td>
<td align="left">
Radu Serban &lt;<a href="mailto:radu%40llnl.gov">radu@llnl.gov</a>&gt;</td>
</tr>

<tr>
<td align="right"><b>
<em>Date</em></b></td>
<td align="left">
Tue, 13 Jun 2006 17:28:07 -0700</td>
</tr>

</table>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<div class="container">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi John,</pre><br>
John Pye wrote:
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">Hi Radu,</pre><br>
<pre style="margin: 0em;">I'm not yet sure what the highest index of DAEs we'll be dealing with
will be. They could be order 2 or possibly higher: we have some stiff
fixed-mass fixed-volume two-phase recycle systems that I would like to
simulate, and I had trouble with some other (free) tools that I tried.
We don't have Pantelides' algorithm implemented in ASCEND so I'm not
sure how much success I can expect to have with this.
</pre></blockquote><br>IDA will not work for indices higher than 2. In the near future I may start working on a coordinate projection-based DAE solver which would 
work for higher index.<br>
<br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">One thing that will be interesting is whether or not we can re-use the
'blocking' solver in ASCEND when using IDA. I have a lot to learn about
its internal details but it seems that I may be able to use the 'lsolve'
interface inside IDA for this purpose. It's also going to be
challlenging when it comes to tying in with the evaluation of the
Jacobian and root-finding capabilities.
</pre></blockquote><br>Attaching a new linear solver module to IDA is not all that difficult. You'll have to learn a bit about the internal memory structure IDAMem 
(defined in ida_impl.h which is now exported under include/ida/ exactly for this reason).<br>
<br>
Before jumping ahead and implement this interface, you could test the ASCEND linear solver by using the preconditioner interface for the 
iterative linear solvers in IDA. Indeed, you could define a 'perfect' preconditioner by using an exact linear solver in the 'psolve' 
function and use one of the iterative linear solvers already present in IDA (GMRES, BiCG-Stab, or TF-QMR) which, with such a preconditioner 
will take exactly one iteration.<br>
<br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">On an aside: is there a reason why, when installing IDA, several of the
header files are installed in subdirectories, but the top-level header
files don't refer to the subdirectories by name? It means that I have to
add *several* subdirectories to my compiler include-dir flags, rather
than just one. It would be better if SUNDIALS referred to its other
header files using &lt;sundials/whatever.h&gt; and &lt;ida/whatever.h&gt; rather
than the current system. This also makes detection of SUNDIALS with
autotools/SCons a bit harder to do. But perhaps you have a reason for
this approach?
</pre></blockquote><br>We decided to export header files in subdirectories in order to not pollute the include/ directory (especially for a system-wide SUNDIALS 
install). I would have gladly use &quot;#include &lt;ida/whatever.h&gt; where necessary (I like *NIX too :-)) but we had to make it relatively easy for 
those using other OS (read Windows) who cannot use the configure script and thus need to collect all source and header files into a 
directory where their IDEs (e.g. Visual C++) can find them. With the current implementation they do not have to create these subdirectories.<br>
<br>
I know this is a bit more inconvenient, but there are not that many -I flags that you need to add to CPPFLAGS (typically 3: -I***/include 
-I***/include/ida -I***/include/sundials).<br>
<br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">Cheers
JP</pre><br>
</blockquote><pre style="margin: 0em;"><br>--Radu</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">Radu Serban wrote:</pre><br>
<br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">John Pye wrote:</pre><br>
<br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">Sorry dude, I think I broke it :-)</pre><br>
</blockquote><pre style="margin: 0em;"><br>John,</pre><br>
<pre style="margin: 0em;">You did not break it. You were not the only one to end up with empty
values for lat and long... There's probably a bug in my coding.</pre><br>
<br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">I've been working on integrating IDA with the ASCEND simulation package
recently. Work in progress, but it's been going well so far, thanks to
the excellent documentation.</pre><br>
<a  href="https://pse.cheme.cmu.edu/wiki/view/Ascend/WebHome">https://pse.cheme.cmu.edu/wiki/view/Ascend/WebHome</a>
</blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">Thanks for pointing this out. Over the past couple of weeks I learned
or was reminded of several packages that use SUNDIALS solvers. I'd
appreciate if user would let us know of others.</pre><br>
<pre style="margin: 0em;">What index DAEs are you interested in?</pre><br>
<pre style="margin: 0em;">--radu</pre><br>
<br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">Cheers,
JP</pre><br>
<pre style="margin: 0em;">Radu Serban wrote:</pre><br>
<br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">I'm looking forward to seeing this map populated!</pre><br>
<pre style="margin: 0em;">--Radu</pre><br>
</blockquote><pre style="margin: 0em;"><br></pre><br>
</blockquote></blockquote><br>
</blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">--
   Radu Serban
   Center for Applied Scientific Computing   [email] radu@llnl.gov
   Lawrence Livermore National Laboratory    [phone] 925-424-4852
   P.O. Box 808, L-560                       [fax]   925-422-6287
   Livermore, CA 94551</pre><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<div class="container">
<table width="95%" frame="below"><tr><td></td></table>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00495" href="msg00495.html">[sundials-users] include file directory layout (was: The lighter side of SUNDIALS)</a></strong>
<ul><li><em>From:</em> &quot;John W. Eaton&quot; &lt;jwe@bevo.che.wisc.edu&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00486" href="msg00486.html">[sundials-users] The lighter side of SUNDIALS</a></strong>
<ul><li><em>From:</em> Radu Serban &lt;radu@llnl.gov&gt;</li></ul></li>
<li><strong><a name="00490" href="msg00490.html">Re: [sundials-users] The lighter side of SUNDIALS</a></strong>
<ul><li><em>From:</em> John Pye &lt;john.pye@student.unsw.edu.au&gt;</li></ul></li>
<li><strong><a name="00491" href="msg00491.html">Re: [sundials-users] The lighter side of SUNDIALS</a></strong>
<ul><li><em>From:</em> Radu Serban &lt;radu@llnl.gov&gt;</li></ul></li>
<li><strong><a name="00493" href="msg00493.html">Re: [sundials-users] The lighter side of SUNDIALS</a></strong>
<ul><li><em>From:</em> John Pye &lt;john.pye@student.unsw.edu.au&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00493.html">Re: [sundials-users] The lighter side of SUNDIALS</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00495.html">[sundials-users] include file directory layout (was: The lighter side of SUNDIALS)</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00493.html">Re: [sundials-users] The lighter side of SUNDIALS</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00495.html">[sundials-users] include file directory layout (was: The lighter side of SUNDIALS)</a></strong>
</li>

<li>Index(es):
<ul>
<li><a href="maillist.html#00494">
<strong>Main</strong></a></li>
<li><a href="threads.html#00494">
<strong>Thread</strong></a></li>
</ul>
</li>
</ul>
</div>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!-- End content for this page -->
  </div>
  </td>
  <td background="../../graphics/table_bck3.gif"></td>
  </tr>
  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>
  </table>
</body>
</html>
