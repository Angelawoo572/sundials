# File Makefile
#--------------------------------------------------------------------------
# Makefile for the FCVODE examples using the serial N_Vector implementation.
# @configure_input@
#--------------------------------------------------------------------------

# Shell
SHELL = @SHELL@

# SUNDIALS instalation directory
prefix      = @prefix@
exec_prefix = @exec_prefix@
includedir  = @includedir@
libdir      = @libdir@

# Path to sources
srcdir = @srcdir@

# Compiler and compiler options
FC      = @F77@
FFLAGS  = @FFLAGS@
FLIBS   = @FLIBS@
LDFLAGS = @LDFLAGS@
TEMP_LIBS    = @LIBS@

# SUNDIALS library directory
SUNDIALS_LIB_DIR = ${libdir}

LIBDIRS = -L${SUNDIALS_LIB_DIR}
LIBS    = ${TEMP_LIBS} -lfcvode -lcvode -lfnvecserial -lnvecserial -lshared

#--------------------------------------------------------------------------------
# Make rules
#--------------------------------------------------------------------------------

all: cvdensef cvbandf cvkryf

cvdensef : ${srcdir}/cvdensef.f
	${FC} -c ${FFLAGS} ${srcdir}/$@.f
	${FC} ${FFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS} ${FLIBS}
cvbandf : ${srcdir}/cvbandf.f
	${FC} -c ${FFLAGS} ${srcdir}/$@.f
	${FC} ${FFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS} ${FLIBS}
cvkryf : ${srcdir}/cvkryf.f
	${FC} -c ${FFLAGS} ${srcdir}/$@.f
	${FC} ${FFLAGS} ${LDFLAGS} -o $@ $@.o ${LIBDIRS} ${LIBS} ${FLIBS}

clean:
	rm -f *.o
	rm -f cvdensef cvbandf cvkryf

#---End of Makefile---
