
               Cheat Sheet for Git - 10 Aug 2017


This file contains detials on setting up Git and helpful commands for
working with Git. For information on the Git workflow for SUNDIALS see
the gitWorkflow.txt file. 
____________________________

SSH Keys (optional)

One-time setup of ssh keys (to avoid needing password with each
repo transaction).
 
[Taken from: https://myconfluence.llnl.gov/pages/viewpage.action?pageId=99844309]

1. Create your ssh key using the ssh-keygen utility:

   a) Skip this first command if you already have a public/private ssh
      key (i.e. you already have an id_rsa.pub file in your ~/.ssh
      directory):
      > ssh-keygen -t rsa

   b) Make sure that your ssh directory (~/.ssh) is readable only by you.
      > chmod -R go-rwx ~/.ssh

   c) Copy the ssh key to any other machines that you want to be able to SSH to:
      > ssh-copy-id <destination host name>

2. Install the key in BitBucket:

   a) Login to http://mystash.llnl.gov
   b) Click on the profile drop down in the far top right of the
      window and select "Manage Account"  
   c) Click on the "SSH keys" link on the left of the screen and then
      "Add key".
   d) Paste your key into the text box. The text of the key is the
      contents of the file "~/.ssh/id_rsa.pub"
____________________________

Git Configuration

1. Tell git who you are:
   > git config --global user.email "yourname@example.com"
   > git config --global user.name "Your Name"

2. Recomended: Make your current branch the default branch for 'push'
   (i.e. don't default push changes to all branches) 
   > git config --global push.default current
____________________________

Cloning the SUNDIALS Repository

After cloning the repository you will be on the 'develop' branch by
default. You cannot work directly on the 'master' or 'develop'
branches as you are not allowed to push to these branches. You must
branch from 'master' or 'develop' and create a pull request to have
changes merged into the parent branch. See the gitWorkflow.txt file
for more information. 

A. Clone the repository with SSH Keys:
   > git clone ssh://git@mybitbucket.llnl.gov:7999/sundials/sunrepo.git

--- OR ---

B. Clone the repository with your OUN and AD password:
   > git clone ssh://YourOUN@mybitbucket.llnl.gov/scm/sundials/sunrepo.git
____________________________

Helpful Commands

1. List all local branches (* denotes the current branch)
   > git branch

2. Push branch to remote repository:
   > git push origin <branchname>

3. List files you've changed and still need to add or commit:
   > git status

4. Merge different branch to your 'active' branch:
   > git merge <branchname>

5. See differences unstaged and the last commit:
   > git diff <filename>

6. Abandon local changes to a file and get previously committed version
   > git checkout -- <filename>
