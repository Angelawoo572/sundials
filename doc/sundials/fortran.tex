
\section{Important note on portability}
\index{portability!Fortran}
In this package, the names of the interface functions, and the names
of the {\F} user routines called by them, appear as dummy names
which are mapped to actual values by a series of definitions in the
header files.  By default, those mapping definitions depend in turn
on the C macro \id{F77\_FUNC} defined in the header file
\id{sundials\_config.h}.  
The mapping defined by \id{F77\_FUNC} in turn
transforms the C interface names to match the name-mangling approach
used by the supplied Fortran compiler.

By ``name-mangling'', we mean that due to the case-independent nature of
the {\F} language, {\F} compilers convert all subroutine and
object names to use either all lower-case or all upper-case
characters, and append either zero, one or two underscores as a prefix
or suffix to the name.  For example, the {\F} subroutine
\id{MyFunction()} will be changed to one of \id{myfunction},
\id{MYFUNCTION}, \id{myfunction\_\_}, \id{MYFUNCTION\_}, and so on,
depending on the {\F} compiler used.

{\sundials} determines this name-mangling scheme at configuration time
(see Appendix \ref{c:install}).

\section{Fortran Data Types}\label{ss:fcdata}
\index{data types!Fortran}
Throughout this documentation, we will refer to data types according
to their usage in C.  The equivalent types to these may vary,
depending on your computer architecture and on how SUNDIALS was
compiled (see Appendix \ref{c:install}).  A {\F} user should first
determine the equivalent types for their architecture and compiler,
and then take care that all arguments passed through this {\F}/{\CC}
interface are declared of the appropriate type.

\textbf{Integers}: {\sundials} uses configurable \id{sunindextype} type as the
integer type for vector and matrix indices. The \id{sunindextype} can
be configured to be 32- or 64-bit signed integer by setting variable
\id{SUNDIALS\_INDEX\_TYPE} at compile time (See Appendix \ref{c:install}).
The default value is \id{int64\_t}.
A {\F} user should set this variable based on integer type used for
vector and matrix indices in her {\F} code. The corresponding {\F}
types are:

\begin{itemize}
\item {} 
\id{int32\_t} -- equivalent to an \id{INTEGER} or \id{INTEGER*4} in {\F}

\item {} 
\id{int64\_t} -- equivalent to an \id{INTEGER*8} in {\F}
\end{itemize}

\textbf{Real numbers}:  As discussed in Appendix \ref{c:install}, at compilation
{\sundials} allows the configuration option \id{SUNDIALS\_PRECISION},
that accepts values of \id{single}, \id{double} or \id{extended} (the
default is \id{double}).  This choice dictates the size of a
\id{realtype} variable.  The corresponding {\F} types for these
\id{realtype} sizes are:
\begin{itemize}
\item {} 
\id{single} -- equivalent to a \id{REAL} or \id{REAL*4} in {\F}

\item {} 
\id{double} -- equivalent to a \id{DOUBLE PRECISION} or \id{REAL*8} in {\F}

\item {} 
\id{extended} -- equivalent to a \id{REAL*16} in {\F}

\end{itemize}

